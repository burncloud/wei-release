/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-03-07 17:07:58
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[7066,8123],{81464:function(e,t,o){o.d(t,{Z:function(){return r}});var a=o(81095),n=o(26593);function s(e,t=""){const o=t?`拷贝${t}成功`:`拷贝${e}成功`;a.gp.$baseMessage(o,"success","vab-hey-message-success",!1)}function l(e,t=""){const o=t?`拷贝${t}失败`:`拷贝${e}失败`;a.gp.$baseMessage(o,"error","vab-hey-message-success",!1)}function r(e,t=""){const{isSupported:o,copy:a}=(0,n.VPI)();o||(0,n.gIw)("clipboard-write"),a(e).then((()=>{s(e,t)})).catch((o=>{console.log(o),l(e,t)}))}},48123:function(e,t,o){o.r(t),o.d(t,{default:function(){return _}});var a=o(66252),n=o(2262),s=o(81464),l={__name:"index",props:{text:{type:String,default:""},title:{type:String,default:""}},setup(e){return(t,o)=>{const l=(0,a.up)("vab-icon");return(0,a.wg)(),(0,a.j4)(l,{icon:"file-copy-2-line",class:"cursor-pointer",onClick:o[0]||(o[0]=t=>(0,n.SU)(s.Z)(e.text,e.title))})}}};function r(e){e.__source="src/components/ClipboardButton/index.vue"}"function"===typeof r&&r(l);const i=l;var _=i},97066:function(e,t,o){o.r(t),o.d(t,{default:function(){return W}});var a=o(49676),n=(o(3241),o(73204),o(3837)),s=(o(81010),o(76128)),l=(o(74828),o(50591)),r=(o(89035),o(15659)),i=(o(10444),o(86398)),_=(o(69448),o(10661)),u=(o(35095),o(50363),o(66252)),p=o(3577),c=o(2262),d=o(89764),w=o(48123),f=o(23471);const m={class:"box"},h={key:0},g={key:1},y={key:2};var k={__name:"device_list",props:{tableData:{type:Array,default:()=>[]},pagination:{type:Object,default:()=>{}},page:{type:Number,default:1}},emits:["change-page","reload"],setup(e,{emit:t}){function o(e){t("change-page",e)}async function k(e){await(0,f.an)(e),t("reload")}async function b(e){await(0,f.zw)(e),t("reload")}const z=(0,c.iH)();function v(e){z.value.showDialog(e)}return(t,f)=>{const W=n.$Y,U=(0,u.up)("vab-icon"),x=_.Q0,C=i.gi,j=r.ElButton,D=(0,u.up)("router-link"),q=l.i1,$=s.GT,S=n.eI,I=a.R;return(0,u.wg)(),(0,u.iD)("div",null,[(0,u.Wm)(S,{fit:"",flexible:"",stripe:"","table-layout":"auto",data:e.tableData,"row-key":"host_id",class:"data-list"},{empty:(0,u.w5)((()=>[(0,u.Wm)($,{class:"vab-data-empty",description:"暂无容器，请到“算力市场”选择主机创建容器"})])),default:(0,u.w5)((()=>[(0,u.Wm)(W,{type:"expand",fixed:""},{default:(0,u.w5)((({row:e})=>[(0,u._)("div",m,[(0,u._)("div",null,[(0,u._)("p",null,"所属机房："+(0,p.zw)(e.host_room_str),1),(0,u._)("p",null,"GPU："+(0,p.zw)(e.host_gpu_name)+" * "+(0,p.zw)(e.host_gpu_count),1),(0,u._)("p",null,"CPU："+(0,p.zw)(e.host_cpu_name),1),(0,u._)("p",null,"内存："+(0,p.zw)(e.host_memony),1),(0,u._)("p",null,"硬盘："+(0,p.zw)(e.host_disk_type_str),1),(0,u._)("p",null," 网络："+(0,p.zw)(e.host_wan_ip)+" "+(0,p.zw)(e.host_lan_ip)+" "+(0,p.zw)(e.host_net_type_str),1),e.host_rent_status_digit>=0&&"admin"==e.who_am_i?((0,u.wg)(),(0,u.iD)("p",h," 出租方式： "+(0,p.zw)(e.host_rent_method_str),1)):(0,u.kq)("",!0),e.host_renter_order_id>0?((0,u.wg)(),(0,u.iD)("p",g," 租期： "+(0,p.zw)(e.host_whole_rent_start_time)+" - "+(0,p.zw)(e.host_whole_rent_end_time),1)):(0,u.kq)("",!0),e.host_for_rent>0?((0,u.wg)(),(0,u.iD)("p",y," 上下架： "+(0,p.zw)(e.host_online_time_str)+" - "+(0,p.zw)(e.host_off_time_str),1)):(0,u.kq)("",!0)])])])),_:1}),(0,u.Wm)(W,{label:"主机UUID",prop:"host_uuid",sortable:""},{default:(0,u.w5)((({row:e})=>[e.is_local_device?((0,u.wg)(),(0,u.j4)(U,{key:0,icon:"map-pin-line",style:{color:"rgb(54, 203, 203)"}})):((0,u.wg)(),(0,u.j4)(U,{key:1,icon:"cloud-line",style:{color:"rgb(54, 203, 203)"}})),(0,u.Wm)(x,{effect:"dark",content:e.host_uuid,placement:"top"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,p.zw)(e.format_host_uuid),1)])),_:2},1032,["content"]),(0,u.Wm)((0,c.SU)(w["default"]),{text:e.host_uuid},null,8,["text"])])),_:1}),(0,u.Wm)(W,{label:"主机名",prop:"host_name",sortable:""}),(0,u.Wm)(W,{label:"GPU",prop:"name",sortable:""},{default:(0,u.w5)((({row:e})=>[(0,u.Uk)((0,p.zw)(e.host_gpu_name)+" * "+(0,p.zw)(e.host_gpu_count),1)])),_:1}),(0,u.Wm)(W,{label:"IP",prop:"host_lan_ip",sortable:""},{default:(0,u.w5)((({row:e})=>[(0,u.Wm)(x,{class:"box-item",effect:"dark",content:e.host_lan_ip,placement:"top"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,p.zw)(e.format_host_lan_ip),1)])),_:2},1032,["content"])])),_:1}),(0,u.Wm)(W,{label:"状态",prop:"host_online_status",sortable:""},{default:(0,u.w5)((({row:e})=>["离线"==e.host_online_status?((0,u.wg)(),(0,u.j4)(C,{key:0,class:"mx-1",type:"danger",size:"small"},{default:(0,u.w5)((()=>[(0,u.Uk)(" 离线 ")])),_:1})):(0,u.kq)("",!0),"在线"==e.host_online_status?((0,u.wg)(),(0,u.j4)(C,{key:1,class:"card-header-tag",type:"success"},{default:(0,u.w5)((()=>[(0,u.Uk)(" 在线 ")])),_:1})):(0,u.kq)("",!0)])),_:1}),(0,u.Wm)(W,{label:"限期",prop:"host_deadline_str",sortable:""}),(0,u.Wm)(W,{label:"租况",prop:"host_rent_status_str",sortable:""},{default:(0,u.w5)((({row:e})=>[(0,u.Wm)(C,{class:"mx-1",type:"success",size:"small"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,p.zw)(e.host_rent_status_str),1)])),_:2},1024)])),_:1}),(0,u.Wm)(W,{label:"操作",prop:"city"},{default:(0,u.w5)((({row:e})=>[e.host_operation_array.seeDetail?((0,u.wg)(),(0,u.j4)(D,{key:0,to:e.link},{default:(0,u.w5)((()=>[(0,u.Wm)(j,{type:"primary",size:"small"},{default:(0,u.w5)((()=>[(0,u.Uk)("设置")])),_:1})])),_:2},1032,["to"])):(0,u.kq)("",!0),e.host_operation_array.turnoff?((0,u.wg)(),(0,u.j4)(q,{key:1,title:"是否关闭此设备？",onConfirm:t=>k(e.host_id)},{reference:(0,u.w5)((()=>[e.host_operation_array.turnoff?((0,u.wg)(),(0,u.j4)(j,{key:0,type:"danger",size:"small"},{default:(0,u.w5)((()=>[(0,u.Uk)(" 关机 ")])),_:1})):(0,u.kq)("",!0)])),_:2},1032,["onConfirm"])):(0,u.kq)("",!0),e.host_operation_array.delete?((0,u.wg)(),(0,u.j4)(q,{key:2,title:"是否删除此设备？",onConfirm:t=>b(e.host_id)},{reference:(0,u.w5)((()=>[(0,u.Wm)(j,{type:"danger",size:"small"},{default:(0,u.w5)((()=>[(0,u.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"])):(0,u.kq)("",!0),e.host_operation_array.allowExtendTheRentTime?((0,u.wg)(),(0,u.j4)(j,{key:3,type:"success",size:"small",onClick:t=>v(e.host_id)},{default:(0,u.w5)((()=>[(0,u.Uk)(" 续费 ")])),_:2},1032,["onClick"])):(0,u.kq)("",!0)])),_:1})])),_:1},8,["data"]),(0,u.Wm)(I,{"current-page":e.page,layout:"prev, pager, next","page-size":e.pagination.pageSize,total:e.pagination.total,onCurrentChange:o},null,8,["current-page","page-size","total"]),(0,u.Wm)((0,c.SU)(d["default"]),{ref_key:"rentFeeDialogRef",ref:z,"renew-for":"1",onDone:f[0]||(f[0]=e=>t.$emit("reload"))},null,512)])}}};function b(e){e.__source="src/views/gpumarket/mydevice/components/device_list.vue"}var z=o(83744);"function"===typeof b&&b(k);const v=(0,z.Z)(k,[["__scopeId","data-v-6e1ed6f8"]]);var W=v}}]);