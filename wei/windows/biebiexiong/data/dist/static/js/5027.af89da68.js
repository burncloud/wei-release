/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-03-07 17:07:58
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[5027,6840,9884,4178,1603],{48432:function(e,a,t){t.d(a,{Z:function(){return n}});t(57658);var l=t(2262),o=t(66252),u=t(26010);function n(e=!1){const a=(0,l.iH)({page:1}),t=(0,l.iH)([]),n=(0,l.qj)({pageSize:1,total:1,isFinished:!1,isLoading:!1});let d;const s=(0,o.Fl)((()=>n.isLoading?"loading":n.isFinished?"nomore":"loadmore"));function p(){return a.value.page=1,t.value=[],n.isFinished=!1,_(d)}function r(){if(!n.isFinished&&!n.isLoading)return a.value.page++,_(d)}function _(l){return d=l,n.isLoading=!0,l().then((({body:l})=>{const{list:o,page_perpage:d,page_allcount:s}=l;return e?t.value.push(...o||[]):t.value=o||[],n.pageSize=parseInt(d),n.total=parseInt(s),(0,u.Gc)(a.value.page,n.pageSize,n.total)?n.isFinished=!0:n.isFinished=!1,l})).finally((()=>{n.isLoading=!1}))}return{queryForm:a,dataList:t,pagination:n,loadMoreStatus:s,pullDownRefresh:p,reachBottom:r,loadData:_}}},96840:function(e,a,t){t.r(a),t.d(a,{default:function(){return p}});var l=t(31452),o=(t(3241),t(68445),t(66252)),u={__name:"index",props:{value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e;function u(){a("update:modelValue",t.value)}return(a,t)=>{const n=l.E2;return(0,o.wg)(),(0,o.j4)(n,{type:e.value===e.modelValue?"primary":"info",onClick:u},{default:(0,o.w5)((()=>[(0,o.WI)(a.$slots,"default")])),_:3},8,["type"])}}};function n(e){e.__source="src/components/LinkRadio/index.vue"}var d=t(83744);"function"===typeof n&&n(u);const s=(0,d.Z)(u,[["__scopeId","data-v-177f751c"]]);var p=s},56786:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});var l=t(30032),o=(t(3241),t(91154),t(49676)),u=(t(73204),t(3837)),n=(t(81010),t(15659)),d=(t(10444),t(50363),t(66252)),s=t(3577),p=t(2262),r=t(8629);const _={class:"custom-table-container"},i={m:"4"},m={m:"t-0 b-2"},f={m:"t-0 b-2"},c={m:"t-0 b-2"},g={m:"t-0 b-2"};var w=(0,d.aZ)({__name:"hostTable",props:{tableData:{type:Array,default:()=>[]},pagination:{type:Object,default:()=>{}},page:{type:Number,default:1}},emits:["change-page"],setup(e,{emit:a}){const t=(0,p.iH)(null),w=e=>{t.value.showDialog(e)};function U(e){a("change-page",e)}return(a,v)=>{const y=u.$Y,h=n.ElButton,b=u.eI,S=o.R,W=l.Kf;return(0,d.wg)(),(0,d.iD)("div",_,[(0,d.Wm)(W,{shadow:"hover"},{default:(0,d.w5)((()=>[(0,d.Wm)(b,{fit:"",flexible:"",stripe:"","table-layout":"auto","row-key":"hostid",data:e.tableData,style:{width:"100%"},class:"data-list"},{default:(0,d.w5)((()=>[(0,d.Wm)(y,{fixed:"",type:"expand"},{default:(0,d.w5)((({row:e})=>[(0,d._)("div",i,[(0,d._)("p",m,"CPU："+(0,s.zw)(e.host_cpu_name),1),(0,d._)("p",f,"内存："+(0,s.zw)(e.host_memony),1),(0,d._)("p",c,"硬盘："+(0,s.zw)(e.host_disk_type_str),1),(0,d._)("p",g," 网络： "+(0,s.zw)(e.host_net_type_str),1)])])),_:1}),(0,d.Wm)(y,{fixed:"",sortable:"",prop:"host_room_str",label:"所属"}),(0,d.Wm)(y,{prop:"host_gpu_name",label:"GPU型号"}),(0,d.Wm)(y,{prop:"host_disk_size_str",label:"硬盘",sortable:""}),(0,d.Wm)(y,{label:"切分租金(元/卡)",size:"small"},{default:(0,d.w5)((()=>[(0,d.Wm)(y,{prop:"host_hour_fee",label:"小时",size:"small",sortable:""}),(0,d.Wm)(y,{prop:"host_daly_fee",label:"日",size:"small",sortable:""}),(0,d.Wm)(y,{prop:"host_week_fee",label:"周",size:"small",sortable:""}),(0,d.Wm)(y,{prop:"host_month_fee",label:"月",size:"small",sortable:""})])),_:1}),(0,d.Wm)(y,{label:"整机租金",size:"small"},{default:(0,d.w5)((()=>[(0,d.Wm)(y,{prop:"host_daly_fee_w",label:"日",size:"small",sortable:""}),(0,d.Wm)(y,{prop:"host_week_fee_w",label:"周",size:"small",sortable:""}),(0,d.Wm)(y,{prop:"host_month_fee_w",label:"月",size:"small",sortable:""})])),_:1}),(0,d.Wm)(y,{label:"评分",sortable:"",prop:"host_rate"}),(0,d.Wm)(y,{prop:"host_off_time_str",label:"可租",sortable:""}),(0,d.Wm)(y,{prop:"gpuNum",width:"100",label:"GPU数量"},{default:(0,d.w5)((({row:e})=>[(0,d.Uk)((0,s.zw)(e.host_gpu_left),1)])),_:1}),(0,d.Wm)(y,{fixed:"right",label:"操作"},{default:(0,d.w5)((({row:e})=>[(0,d.Wm)(h,{type:"primary",onClick:a=>w(e.host_id)},{default:(0,d.w5)((()=>[(0,d.Uk)(" 租赁 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,d.Wm)(S,{"current-page":e.page,layout:"prev, pager, next","page-size":e.pagination.pageSize,total:e.pagination.total,onCurrentChange:U},null,8,["current-page","page-size","total"])])),_:1}),(0,d.Wm)((0,p.SU)(r["default"]),{ref_key:"dialogRef",ref:t},null,512)])}}});function U(e){e.__source="src/views/gpumarket/hosts/components/hostTable.vue"}var v=t(83744);"function"===typeof U&&U(w);const y=(0,v.Z)(w,[["__scopeId","data-v-73d532f2"]]);var h=y},14908:function(e,a,t){t.r(a),t.d(a,{default:function(){return b}});var l=t(4350),o=(t(3241),t(91103),t(7608)),u=t(49927),n=t(20129),d=(t(69840),t(6589),t(15659)),s=(t(10444),t(83396)),p=(t(48157),t(74741),t(91194)),r=(t(2993),t(32590),t(66252)),_=t(2262),i=t(3577),m=t(56786),f=t(96840),c=t(96545),g=t(48432);const w={class:"host-market-container"};var U={__name:"index",setup(e){const{queryForm:a,dataList:t,pagination:U,loadData:v}=(0,g.Z)(),y=()=>({page:1,gpu_list:"",gpu_count:"",gpu_rent_type:"",gpu_rent_method:"",gpu_belong_type:"",gpu_net_type:"",gpu_address_rand:""});a.value={...y()},(0,r.bv)((()=>{S()}));const h=(0,r.Fl)((()=>{const e=["host_hour_fee","host_daly_fee","host_week_fee","host_month_fee"],a=["host_daly_fee_w","host_week_fee_w","host_month_fee_w"];return t.value.map((t=>{t.host_rate=parseFloat(t.host_rate).toFixed(1),e.forEach((e=>{t[e]=t[e]?t[e]:"---"}));const l=t.host_gpu_left>=t.host_gpu_count;return a.forEach((e=>{t[e]=l?t[e]:"---"})),t}))})),b=(0,_.iH)({});async function S(){const{search:e}=await v((()=>(0,c.Ix)(a.value)));b.value=e}function W(e){a.value.page=e,S()}function V(){a.value.page=1,S()}const k=(0,_.iH)([]);function z(){k.value.length>0?k.value=[]:k.value=["form"]}function D(){a.value={...y()}}return(e,t)=>{const c=p.QQ,g=p.Lf,v=s.aE,y=s.PH,S=d.ElButton,F=n.nH,x=n.ly,H=u.Z,C=o.Z,Z=l.t;return(0,r.wg)(),(0,r.iD)("div",w,[(0,r.Wm)(C,{class:"page-header"},{default:(0,r.w5)((()=>[(0,r.Wm)(H,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,{modelValue:(0,_.SU)(k),"onUpdate:modelValue":t[12]||(t[12]=e=>(0,_.dq)(k)?k.value=e:null),class:"custom-collapse"},{default:(0,r.w5)((()=>[(0,r.Wm)(v,{name:"form",size:"small"},{title:(0,r.w5)((()=>[(0,r.Wm)(g,{size:"small",class:""},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{label:"GPU型号"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,_.SU)(f["default"]),{modelValue:(0,_.SU)(a).gpu_list,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,_.SU)(a).gpu_list=e)},{default:(0,r.w5)((()=>[(0,r.Uk)("所有")])),_:1},8,["modelValue"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,_.SU)(b).gpu_list,(e=>((0,r.wg)(),(0,r.j4)((0,_.SU)(f["default"]),{key:e.gpu_id,modelValue:(0,_.SU)(a).gpu_list,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,_.SU)(a).gpu_list=e),value:e.gpu_id},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.gpu_name),1)])),_:2},1032,["modelValue","value"])))),128))])),_:1})])),_:1})])),default:(0,r.w5)((()=>[(0,r.Wm)(g,{column:3,size:"small"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{span:"3",label:"GPU数量"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,_.SU)(f["default"]),{modelValue:(0,_.SU)(a).gpu_count,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,_.SU)(a).gpu_count=e)},{default:(0,r.w5)((()=>[(0,r.Uk)("不限")])),_:1},8,["modelValue"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,_.SU)(b).gpu_count,(e=>((0,r.wg)(),(0,r.j4)((0,_.SU)(f["default"]),{key:e,modelValue:(0,_.SU)(a).gpu_count,"onUpdate:modelValue":t[3]||(t[3]=e=>(0,_.SU)(a).gpu_count=e),value:e},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e),1)])),_:2},1032,["modelValue","value"])))),128))])),_:1}),(0,r.Wm)(c,{span:"3",label:"租赁方式"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,_.SU)(f["default"]),{modelValue:(0,_.SU)(a).gpu_rent_type,"onUpdate:modelValue":t[4]||(t[4]=e=>(0,_.SU)(a).gpu_rent_type=e)},{default:(0,r.w5)((()=>[(0,r.Uk)("不限")])),_:1},8,["modelValue"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,_.SU)(b).gpu_rent_type,(e=>((0,r.wg)(),(0,r.j4)((0,_.SU)(f["default"]),{key:e.id,modelValue:(0,_.SU)(a).gpu_rent_type,"onUpdate:modelValue":t[5]||(t[5]=e=>(0,_.SU)(a).gpu_rent_type=e),value:e.id},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.name),1)])),_:2},1032,["modelValue","value"])))),128))])),_:1}),(0,r.Wm)(c,{span:"3",label:"主机所属"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,_.SU)(f["default"]),{modelValue:(0,_.SU)(a).gpu_belong_type,"onUpdate:modelValue":t[6]||(t[6]=e=>(0,_.SU)(a).gpu_belong_type=e)},{default:(0,r.w5)((()=>[(0,r.Uk)("不限")])),_:1},8,["modelValue"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,_.SU)(b).gpu_belong_type,(e=>((0,r.wg)(),(0,r.j4)((0,_.SU)(f["default"]),{key:e.id,modelValue:(0,_.SU)(a).gpu_belong_type,"onUpdate:modelValue":t[7]||(t[7]=e=>(0,_.SU)(a).gpu_belong_type=e),value:e.id},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.name),1)])),_:2},1032,["modelValue","value"])))),128))])),_:1}),(0,r.Wm)(c,{span:"3",label:"通信网络"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,_.SU)(f["default"]),{modelValue:(0,_.SU)(a).gpu_net_type,"onUpdate:modelValue":t[8]||(t[8]=e=>(0,_.SU)(a).gpu_net_type=e)},{default:(0,r.w5)((()=>[(0,r.Uk)("所有")])),_:1},8,["modelValue"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,_.SU)(b).gpu_net_type,(e=>((0,r.wg)(),(0,r.j4)((0,_.SU)(f["default"]),{key:e.id,modelValue:(0,_.SU)(a).gpu_net_type,"onUpdate:modelValue":t[9]||(t[9]=e=>(0,_.SU)(a).gpu_net_type=e),value:e.id},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.name),1)])),_:2},1032,["modelValue","value"])))),128))])),_:1}),(0,r.Wm)(c,{span:"3",label:"所处地区"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,_.SU)(f["default"]),{modelValue:(0,_.SU)(a).gpu_address_rand,"onUpdate:modelValue":t[10]||(t[10]=e=>(0,_.SU)(a).gpu_address_rand=e)},{default:(0,r.w5)((()=>[(0,r.Uk)("所有")])),_:1},8,["modelValue"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,_.SU)(b).gpu_address_rand,(e=>((0,r.wg)(),(0,r.j4)((0,_.SU)(f["default"]),{key:e.id,modelValue:(0,_.SU)(a).gpu_address_rand,"onUpdate:modelValue":t[11]||(t[11]=e=>(0,_.SU)(a).gpu_address_rand=e),value:e.id},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.name),1)])),_:2},1032,["modelValue","value"])))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(x,{"label-width":"60"},{default:(0,r.w5)((()=>[(0,r.Wm)(F,null,{default:(0,r.w5)((()=>[(0,r.Wm)(S,{type:"primary",onClick:V},{default:(0,r.w5)((()=>[(0,r.Uk)("搜索")])),_:1}),(0,r.Wm)(S,{plain:"",type:"primary",onClick:D},{default:(0,r.w5)((()=>[(0,r.Uk)(" 重置 ")])),_:1}),(0,r.Wm)(S,{plain:"",type:"primary",onClick:z},{default:(0,r.w5)((()=>[(0,r.Uk)(" 高级搜索 ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.wy)((0,r.Wm)((0,_.SU)(m["default"]),{page:(0,_.SU)(a).page,"table-data":(0,_.SU)(h),pagination:(0,_.SU)(U),onChangePage:W,onReload:V},null,8,["page","table-data","pagination"]),[[Z,(0,_.SU)(U).isLoading]])])}}};function v(e){e.__source="src/views/gpumarket/hosts/index.vue"}var y=t(83744);"function"===typeof v&&v(U);const h=(0,y.Z)(U,[["__scopeId","data-v-cfaab954"]]);var b=h},49927:function(e,a,t){t.d(a,{Z:function(){return _}});var l=t(22040),o=(t(3241),t(99426),t(66252));const u={class:"top-panel"};function n(e,a){const t=l.Dv;return(0,o.wg)(),(0,o.j4)(t,{span:24},{default:(0,o.w5)((()=>[(0,o._)("div",u,[(0,o.WI)(e.$slots,"default")])])),_:3})}function d(e){e.__source="library/components/VabQueryForm/components/VabQueryFormTopPanel.vue"}var s=t(83744);const p={};"function"===typeof d&&d(p);const r=(0,s.Z)(p,[["render",n]]);var _=r},7608:function(e,a,t){t.d(a,{Z:function(){return r}});var l=t(73632),o=(t(3241),t(74965),t(66252));function u(e,a){const t=l.dq;return(0,o.wg)(),(0,o.j4)(t,{class:"vab-query-form",gutter:0},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default",{},void 0,!0)])),_:3})}function n(e){e.__source="library/components/VabQueryForm/index.vue"}var d=t(83744);const s={};"function"===typeof n&&n(s);const p=(0,d.Z)(s,[["render",u],["__scopeId","data-v-172989c8"]]);var r=p}}]);