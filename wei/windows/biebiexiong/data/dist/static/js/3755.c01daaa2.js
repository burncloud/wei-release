/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-03-07 17:07:58
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[3755,8123],{23471:function(t,n,e){e.d(n,{$u:function(){return Y},AX:function(){return y},BX:function(){return D},Bs:function(){return C},ET:function(){return z},Ep:function(){return i},IF:function(){return L},IX:function(){return w},KD:function(){return P},LN:function(){return j},MU:function(){return h},Nq:function(){return R},Pb:function(){return M},QC:function(){return T},RS:function(){return U},SI:function(){return $},Sm:function(){return f},U$:function(){return I},Vf:function(){return v},Wz:function(){return c},Xc:function(){return x},Zr:function(){return r},Zt:function(){return X},ak:function(){return H},an:function(){return l},c1:function(){return s},co:function(){return g},cu:function(){return W},dd:function(){return u},e$:function(){return q},hX:function(){return m},m9:function(){return Z},mL:function(){return d},oh:function(){return S},sw:function(){return b},t4:function(){return k},vQ:function(){return F},wW:function(){return B},z4:function(){return _},zB:function(){return E},zw:function(){return p}});var o=e(92325),a=e(11555);function r(t,n){return(0,o.Z)({url:"/wwwapi.php?to=suanli_device",method:"post",params:t,data:n})}function i(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_device&modac=detail",method:"get",params:{client_id:t}})}function u(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_device&modac=guanji",method:"post",data:t})}function c(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_device&modac=advance_setting",method:"post",data:t})}function s(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_device&modac=uninstall",method:"post",data:{client_id:t}})}function d(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_device&modac=reboot",method:"post",data:t})}function p(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_device&modac=delete_device",method:"get",params:{client_id:t}})}function l(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_device&modac=shutdown",method:"post",data:{client_id:t}})}function m(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_device&modac=one_click",method:"post",data:{client_id:t}})}function _(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_device&modac=rentsetting_form",method:"get",params:{client_id:t}})}function f(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_device&modac=rentsetting",method:"post",data:t})}function w(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_market&modac=renew_form",method:"get",params:t})}function h(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_market&modac=renew_done",method:"post",data:t})}function g(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_image&modac=device_image",method:"get",params:{client_id:t}})}function v(t,n){return(0,o.Z)({url:"/wwwapi.php?to=suanli_image&modac=delete_image",method:"post",data:{client_id:t,image_id:n}})}function y(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_container&modac=create_container_form",method:"post",data:t})}function Z(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_container&modac=create_container",method:"post",data:t})}function k(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_image&modac=pull_image",method:"post",data:t})}function b(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_image&modac=get_pull_progres",method:"post",data:{image_id:t}})}async function x(t){const{body:{hash:n}}=await(0,a.Gv)();return(0,o.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:n}})}function U(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_container&modac=device_container",method:"get",params:{client_id:t}})}function z(t,n){return(0,o.Z)({url:"/wwwapi.php?to=suanli_container&modac=container_restart",method:"post",data:{client_id:t,container_id:n}})}function I(t,n){return(0,o.Z)({url:"/wwwapi.php?to=suanli_container&modac=container_stop",method:"post",data:{client_id:t,container_id:n}})}function D(t,n){return(0,o.Z)({url:"/wwwapi.php?to=suanli_container&modac=delete_container",method:"post",data:{client_id:t,container_id:n}})}function W(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_container&modac=get_create_progres",method:"post",data:{container_id:t}})}function $(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_model&modac=device_model",method:"get",params:{client_id:t}})}function S(){return(0,o.Z)({url:"/wwwapi.php?to=suanli_model&modac=download_form",method:"post"})}function T(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_model&modac=download_model",method:"post",data:t})}function C(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_model&modac=model_apply_form",method:"get",params:{client_id:t}})}function j(t,n){return(0,o.Z)({url:"/wwwapi.php?to=suanli_model&modac=model_apply",method:"post",params:t,data:n})}function Y(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_model&modac=model_delete",method:"get",params:{host_model_id:t}})}function q(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_model&modac=get_download_progres",method:"get",data:{model_id:t}})}async function M(t){const{body:{hash:n}}=await(0,a.Gv)();return(0,o.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:n}})}function H(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=device_model",method:"get",params:{client_id:t}})}function B(){return(0,o.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=download_form",method:"post"})}function E(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=download_model",method:"post",data:t})}function L(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=model_apply_form",method:"get",params:{client_id:t}})}function P(t,n){return(0,o.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=model_apply",method:"post",params:t,data:n})}function X(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=model_delete",method:"get",params:{host_model_id:t}})}function F(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=get_download_progres",method:"get",data:{model_id:t}})}async function R(t){const{body:{hash:n}}=await(0,a.Gv)();return(0,o.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:n}})}},81464:function(t,n,e){e.d(n,{Z:function(){return u}});var o=e(81095),a=e(26593);function r(t,n=""){const e=n?`拷贝${n}成功`:`拷贝${t}成功`;o.gp.$baseMessage(e,"success","vab-hey-message-success",!1)}function i(t,n=""){const e=n?`拷贝${n}失败`:`拷贝${t}失败`;o.gp.$baseMessage(e,"error","vab-hey-message-success",!1)}function u(t,n=""){const{isSupported:e,copy:o}=(0,a.VPI)();e||(0,a.gIw)("clipboard-write"),o(t).then((()=>{r(t,n)})).catch((e=>{console.log(e),i(t,n)}))}},61653:function(t,n,e){e.d(n,{Ei:function(){return u},i$:function(){return s},p6:function(){return c}});var o=e(27484),a=e.n(o),r=(e(33852),e(84110)),i=e.n(r);function u(t){return a().locale("zh-cn"),a()(t).fromNow()}function c(t,n="YYYY-MM-DD HH:mm:ss"){return a()(t).format(n)}function s(t,n="YYYY-MM-DD HH:mm:ss"){return t>0?c(1e3*t,n):"---"}a().extend(i())},20681:function(t,n,e){e.d(n,{Z:function(){return a}});var o=e(95965);function a(){const{startIntervalTimer:t,stopIntervalTimer:n}=(0,o.Z)();let e,a,r={};function i(o,a,i,u,c,s){const d=o.filter((t=>t[i].showProcess));r={},n(e),0!==d.length&&(e=t((async()=>{const t=d.map((t=>t[a])),{body:{list:n}}=await c(t);let e=!1;for(const o in n){const{stop:t,progress_num:c,progress_text:s}=n[o],d=u.value.find((t=>t[a]===o));d[i].progress_num||(d[i].progress_num=0);const p=parseInt(c);p>d[i].progress_num&&(d[i].progress_num=p,d[i].progress_text=s,r[o]={progress_num:p,progress_text:s}),t&&(e=!0)}e&&s()})))}function u(e,o,i,u,c){const s=e.filter((t=>t[i].time_flash_list));n(a),0!==s.length&&(a=t((async()=>{const{body:t}=await c();for(const n in r){const e=r[n],a=t.find((t=>t[o]===n));a&&Object.assign(a[i],e)}u.value=t;const e=t.filter((t=>t[i].time_flash_list));e.length<=0&&n(a)}),5e3))}function c(){n(e),n(a)}return{startLoadProgress:i,startReloadList:u,stopTimer:c}}},42238:function(t,n,e){e.d(n,{Z:function(){return i}});var o=e(22201),a=e(2262),r=e(66252);function i(t){const n=(0,o.yj)(),e=(0,a.iH)(n.params.id);return(0,r.YP)((()=>n.params.id),(()=>{n.params.id?(e.value=n.params.id,t()):e.value=""})),{paramsId:e}}},95965:function(t,n,e){e.d(n,{Z:function(){return r}});var o=e(23279),a=e.n(o);function r(){function t(t,n=3e3){return setInterval((()=>{t()}),n)}function n(t){t&&clearInterval(t)}function e(t,n=1e4){return setTimeout((()=>{t()}),n)}function o(t,n=3e3){a()((()=>{t()}),n)()}return{startIntervalTimer:t,stopIntervalTimer:n,startTimeoutTimer:e,startDebounce:o}}},48123:function(t,n,e){e.r(n),e.d(n,{default:function(){return s}});var o=e(66252),a=e(2262),r=e(81464),i={__name:"index",props:{text:{type:String,default:""},title:{type:String,default:""}},setup(t){return(n,e)=>{const i=(0,o.up)("vab-icon");return(0,o.wg)(),(0,o.j4)(i,{icon:"file-copy-2-line",class:"cursor-pointer",onClick:e[0]||(e[0]=n=>(0,a.SU)(r.Z)(t.text,t.title))})}}};function u(t){t.__source="src/components/ClipboardButton/index.vue"}"function"===typeof u&&u(i);const c=i;var s=c},3755:function(t,n,e){e.r(n),e.d(n,{default:function(){return S}});var o=e(3837),a=(e(3241),e(81010),e(76128)),r=(e(74828),e(50591)),i=(e(89035),e(15659)),u=(e(10444),e(10661)),c=(e(35095),e(50363),e(66252)),s=e(2262),d=e(3577),p=e(96486),l=e(61653),m=e(48123),_=e(42238),f=e(95965),w=e(23471),h=e(20681);const g={m:"4"},v={m:"t-0 b-2"},y={key:0},Z={key:0,m:"t-0 b-2"},k={key:1,m:"t-0 b-2"},b={m:"t-0 b-2"},x={key:0},U={key:1},z={class:"el-progress-action"};var I={__name:"docker_list",setup(t){const{startLoadProgress:n,startReloadList:e,stopTimer:I}=(0,h.Z)(),{startTimeoutTimer:D}=(0,f.Z)(),W=(0,c.f3)("$baseMessage"),$=(0,c.f3)("$sub"),S=(0,c.f3)("$unsub"),T=(0,s.iH)([]),C=(0,c.Fl)((()=>T.value.map((t=>(t.diff_time=t.ct_add_time?(0,l.Ei)(1e3*t.ct_add_time):"---",t.cut_ci_name=(0,p.truncate)(t.ct_image_ci_name,{length:35,separator:"..."}),t))))),{paramsId:j}=(0,_.Z)((()=>{Y()}));async function Y(){const{body:t}=await(0,w.RS)(j.value);T.value=t,n(t,"ct_id","ct_operation_array",T,w.cu,Y),e(t,"ct_id","ct_operation_array",T,(()=>(0,w.RS)(j.value)))}async function q(t){await(0,w.ET)(j.value,t),W("开启容器成功","success","vab-hey-message-success"),D((()=>{Y()}))}async function M(t){await(0,w.U$)(j.value,t),W("停止容器成功","success","vab-hey-message-success"),D((()=>{Y()}))}async function H(t){await(0,w.BX)(j.value,t),W("删除容器成功","success","vab-hey-message-success"),D((()=>{Y()}))}return $("reload-docker-list",(()=>{I(),Y()})),(0,c.bv)((()=>{Y()})),(0,c.Ah)((()=>{I(),S("reload-docker-list")})),(t,n)=>{const e=o.$Y,p=u.Q0,l=(0,c.up)("vab-icon"),_=i.ElButton,f=r.i1,w=a.GT,h=o.eI;return(0,c.wg)(),(0,c.j4)(h,{fit:"",flexible:"",stripe:"","table-layout":"auto",data:(0,s.SU)(C),"row-key":"ct_id",class:"data-list"},{empty:(0,c.w5)((()=>[(0,c.Wm)(w,{class:"vab-data-empty",description:"暂时没有容器容器，请到旁边的镜像列表选择合适的镜像，然后“创建容器”"})])),default:(0,c.w5)((()=>[(0,c.Wm)(e,{type:"expand",fixed:""},{default:(0,c.w5)((({row:t})=>[(0,c._)("div",g,[(0,c._)("p",v,[(0,c.Uk)(" 启动命令: docker run -d --name "+(0,d.zw)(t.ct_name)+" ",1),t.ct_connectinfo.orginInfo.ports?((0,c.wg)(),(0,c.iD)("span",y," -p "+(0,d.zw)(t.ct_connectinfo.orginInfo.ports),1)):(0,c.kq)("",!0),(0,c.Uk)(" "+(0,d.zw)(t.ct_image_ci_name),1)]),t.ct_connectinfo.paths.length?((0,c.wg)(),(0,c.iD)("p",Z," 默认挂载地址： "+(0,d.zw)(t.ct_connectinfo.paths.join(",")),1)):(0,c.kq)("",!0),t.ct_connectinfo.paths_other.length?((0,c.wg)(),(0,c.iD)("p",k," 其它挂载地址： "+(0,d.zw)(t.ct_connectinfo.paths_other.join(",")),1)):(0,c.kq)("",!0),(0,c._)("p",b,[(0,c.Uk)(" 用户名："+(0,d.zw)(t.ct_connectinfo.user)+" ",1),(0,c.Wm)((0,s.SU)(m["default"]),{text:t.ct_connectinfo.user,title:"用户名"},null,8,["text"]),t.ct_connectinfo.password?((0,c.wg)(),(0,c.iD)("span",x,[(0,c.Uk)(" 密码：****** "),(0,c.Wm)((0,s.SU)(m["default"]),{text:t.ct_connectinfo.password,title:"密码"},null,8,["text"])])):((0,c.wg)(),(0,c.iD)("span",U,"无密码"))]),((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(t.ct_connectinfo.ports,((t,n)=>((0,c.wg)(),(0,c.iD)("p",{key:n,m:"t-0 b-2"},[(0,c.Uk)((0,d.zw)(t.text)+" ",1),(0,c.Wm)((0,s.SU)(m["default"]),{text:t.value},null,8,["text"])])))),128))])])),_:1}),(0,c.Wm)(e,{label:"容器名称",prop:"ct_name"},{default:(0,c.w5)((({row:t})=>[(0,c.Uk)((0,d.zw)(t.ct_name)+" ",1),(0,c.Wm)((0,s.SU)(m["default"]),{text:t.ct_name},null,8,["text"])])),_:1}),(0,c.Wm)(e,{label:"基于镜像",prop:"ct_image_ci_name"},{default:(0,c.w5)((({row:t})=>[(0,c.Wm)(p,{placement:"top",content:t.ct_image_ci_name},{default:(0,c.w5)((()=>[(0,c.Uk)((0,d.zw)(t.cut_ci_name),1)])),_:2},1032,["content"])])),_:1}),(0,c.Wm)(e,{label:"状态",prop:"ct_use_status_str"},{default:(0,c.w5)((({row:t})=>[(0,c.Uk)((0,d.zw)(t.ct_use_status_str)+" "+(0,d.zw)(t.ct_operate_str)+" ",1),t.ct_hint?((0,c.wg)(),(0,c.j4)(p,{key:0,content:t.ct_hint},{default:(0,c.w5)((()=>[(0,c.Wm)(l,{icon:"error-warning-line",style:(0,d.j5)({color:"var(--el-color-danger)"})},null,8,["style"])])),_:2},1032,["content"])):(0,c.kq)("",!0)])),_:1}),(0,c.Wm)(e,{label:"最后开启",prop:"diff_time"}),(0,c.Wm)(e,{label:"操作",prop:"truedata"},{default:(0,c.w5)((({row:t})=>[(0,c._)("div",z,[t.ct_operation_array.startContainer?((0,c.wg)(),(0,c.j4)(_,{key:0,type:"primary",size:"small",onClick:n=>q(t.ct_id)},{default:(0,c.w5)((()=>[(0,c.Uk)(" 开启 ")])),_:2},1032,["onClick"])):(0,c.kq)("",!0),t.ct_operation_array.stopContainer?((0,c.wg)(),(0,c.j4)(_,{key:1,type:"warning",size:"small",onClick:n=>M(t.ct_id)},{default:(0,c.w5)((()=>[(0,c.Uk)(" 停止 ")])),_:2},1032,["onClick"])):(0,c.kq)("",!0),t.ct_operation_array.delete?((0,c.wg)(),(0,c.j4)(f,{key:2,title:"确定删除此容器吗？",onConfirm:n=>H(t.ct_id)},{reference:(0,c.w5)((()=>[(0,c.Wm)(_,{type:"danger",size:"small"},{default:(0,c.w5)((()=>[(0,c.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"])):(0,c.kq)("",!0)])])),_:1})])),_:1},8,["data"])}}};function D(t){t.__source="src/views/gpumarket/mydevice/components/docker_list.vue"}var W=e(83744);"function"===typeof D&&D(I);const $=(0,W.Z)(I,[["__scopeId","data-v-20a0be4a"]]);var S=$}}]);