/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-10-21 18:47:55
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[7955,7108,1517],{41090:function(e,l,a){a.r(l),a.d(l,{default:function(){return x}});var t=a(47223),s=(a(3241),a(96624),a(57018)),d=(a(74367),a(14132)),i=(a(50986),a(61715),a(20129)),n=(a(69840),a(6589),a(35756)),o=(a(19414),a(66252)),m=a(2262),r=a(3577),u=a(97280),c=a(93893),_=a(91222),p=a(47720);const f=e=>((0,o.dD)("data-v-d2f6c97e"),e=e(),(0,o.Cn)(),e),g={class:"ADtailerFrom"},w={key:1,class:"el-card el-upload-dragger list-item"},S=f((()=>(0,o._)("div",{class:"list-item-meta"},[(0,o._)("div",{class:"list-item-meta-content-left"},[(0,o._)("ul",null,[(0,o._)("li",null,"请从任务列表选择想要操作的图片"),(0,o._)("li",null,"点击图片上的 (ADtailer修复) 按钮")])])],-1))),U=[S],b={class:"txt2imgFrom"};var h={__name:"adetailer",setup(e){const l=(0,_.m)(),{adetailerForm:a,adetailerOptions:f}=(0,p.Jk)(l),{adSetUploadImage:S}=l;return(e,l)=>{const _=n.F8,p=(0,o.up)("vab-icon"),h=i.nH,v=i.ly,y=d.BT,W=d.ElSelect,x=s.EZ,V=t.BM;return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",g,[(0,o.Wm)(v,{"label-position":"top","label-width":"100px"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{label:"基础图片"},{default:(0,o.w5)((()=>[(0,m.SU)(a).base_image.url?((0,o.wg)(),(0,o.j4)((0,m.SU)(u["default"]),{key:0},{image:(0,o.w5)((()=>[(0,o.Wm)(_,{src:(0,m.SU)(a).base_image.url,width:"48"},null,8,["src"])])),header:(0,o.w5)((()=>[(0,o._)("span",null,(0,r.zw)((0,m.SU)(a).base_image.title),1)])),action:(0,o.w5)((()=>[(0,o.Wm)(p,{icon:"delete-bin-6-line",class:"cursor-pointer",style:{color:"var(--el-color-danger)"},onClick:l[0]||(l[0]=e=>(0,m.SU)(S)({}))})])),_:1})):((0,o.wg)(),(0,o.iD)("div",w,U))])),_:1})])),_:1})]),(0,o._)("div",b,[(0,o.Wm)(v,{"label-position":"top","label-width":"100px"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{label:"ADetailer 模型"},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{modelValue:(0,m.SU)(a).ad_model,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,m.SU)(a).ad_model=e),clearable:"",placeholder:"Select"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,m.SU)(f).adModel,(e=>((0,o.wg)(),(0,o.j4)(y,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(h,{label:""},{default:(0,o.w5)((()=>[(0,o.Wm)((0,m.SU)(c["default"]),{"lora-styles":(0,m.SU)(f).loraStyle,"form-styles":(0,m.SU)(a).styles},null,8,["lora-styles","form-styles"])])),_:1}),(0,o.Wm)(h,{label:"创意描述"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{modelValue:(0,m.SU)(a).ad_prompt_words,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,m.SU)(a).ad_prompt_words=e),type:"textarea",rows:"3"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(h,{label:"排除词"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{modelValue:(0,m.SU)(a).ad_negative_prompt_words,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,m.SU)(a).ad_negative_prompt_words=e),type:"textarea",rows:"3"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(h,{label:"置信度"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:(0,m.SU)(a).ad_confidence,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,m.SU)(a).ad_confidence=e),min:(0,m.SU)(f).adConfidence.min,max:(0,m.SU)(f).adConfidence.max,step:.1},null,8,["modelValue","min","max"])])),_:1}),(0,o.Wm)(h,{label:"重绘蒙版模糊"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:(0,m.SU)(a).ad_dilate_erode,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,m.SU)(a).ad_dilate_erode=e),min:(0,m.SU)(f).adMaskBlur.min,max:(0,m.SU)(f).adMaskBlur.max},null,8,["modelValue","min","max"])])),_:1}),(0,o.Wm)(h,{label:"重绘噪声强度"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:(0,m.SU)(a).ad_denoising_strength,"onUpdate:modelValue":l[6]||(l[6]=e=>(0,m.SU)(a).ad_denoising_strength=e),min:(0,m.SU)(f).adDenoisingStrength.min,max:(0,m.SU)(f).adDenoisingStrength.max,step:.1},null,8,["modelValue","min","max"])])),_:1})])),_:1})])],64)}}};function v(e){e.__source="src/views/stablediffusion/components/adetailer.vue"}var y=a(83744);"function"===typeof v&&v(h);const W=(0,y.Z)(h,[["__scopeId","data-v-d2f6c97e"]]);var x=W},58545:function(e,l,a){a.r(l),a.d(l,{default:function(){return W}});var t=a(47223),s=(a(3241),a(96624),a(14132)),d=(a(50986),a(61715),a(20129)),i=(a(69840),a(6589),a(35756)),n=(a(19414),a(66252)),o=a(2262),m=a(3577),r=a(97280),u=a(18594),c=a(91222),_=a(47720);const p=e=>((0,n.dD)("data-v-78424496"),e=e(),(0,n.Cn)(),e),f={class:"HDRepaireFrom"},g={key:1,class:"el-card el-upload-dragger list-item"},w=p((()=>(0,n._)("div",{class:"list-item-meta"},[(0,n._)("div",{class:"list-item-meta-content-left"},[(0,n._)("ul",null,[(0,n._)("li",null,"请从任务列表选择想要操作的图片"),(0,n._)("li",null,"点击图片上的 (高清修复) 按钮")])])],-1))),S=[w],U={class:"txt2imgFrom"};var b={__name:"hdrepaire",setup(e){const l=(0,c.m)(),{hdrepaireForm:a,hdrepaireOptions:p,isHdrepaireCustomImageSize:w}=(0,_.Jk)(l),{hdSetUploadImage:b}=l;return(e,l)=>{const c=i.F8,_=(0,n.up)("vab-icon"),h=d.nH,v=d.ly,y=s.BT,W=s.ElSelect,x=t.BM;return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",f,[(0,n.Wm)(v,{"label-position":"top","label-width":"100px"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{label:"基础图片"},{default:(0,n.w5)((()=>[(0,o.SU)(a).base_image.url?((0,n.wg)(),(0,n.j4)((0,o.SU)(r["default"]),{key:0},{image:(0,n.w5)((()=>[(0,n.Wm)(c,{src:(0,o.SU)(a).base_image.url,width:"48"},null,8,["src"])])),header:(0,n.w5)((()=>[(0,n._)("span",null,(0,m.zw)((0,o.SU)(a).base_image.title),1)])),action:(0,n.w5)((()=>[(0,n.Wm)(_,{icon:"delete-bin-6-line",class:"cursor-pointer",style:{color:"var(--el-color-danger)"},onClick:l[0]||(l[0]=e=>(0,o.SU)(b)({}))})])),_:1})):((0,n.wg)(),(0,n.iD)("div",g,S))])),_:1})])),_:1})]),(0,n._)("div",U,[(0,n.Wm)(v,{"label-position":"top","label-width":"100px"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{label:"放大倍数"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,o.SU)(u["default"]),{size:(0,o.SU)(a).hr_scale,"onUpdate:size":l[1]||(l[1]=e=>(0,o.SU)(a).hr_scale=e),width:(0,o.SU)(a).hr_resize_x,"onUpdate:width":l[2]||(l[2]=e=>(0,o.SU)(a).hr_resize_x=e),height:(0,o.SU)(a).hr_resize_y,"onUpdate:height":l[3]||(l[3]=e=>(0,o.SU)(a).hr_resize_y=e),"image-size":(0,o.SU)(p).hrImageSize,"image-size-custom":(0,o.SU)(p).imageSizeCustom,disabled:!(0,o.SU)(w)},null,8,["size","width","height","image-size","image-size-custom","disabled"])])),_:1}),(0,n.Wm)(h,{label:"修复方式"},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{modelValue:(0,o.SU)(a).hr_upscaler,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,o.SU)(a).hr_upscaler=e),clearable:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(p).hrUpscaler,(e=>((0,n.wg)(),(0,n.j4)(y,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(h,{label:"高清采样次数"},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{modelValue:(0,o.SU)(a).hr_second_pass_steps,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,o.SU)(a).hr_second_pass_steps=e),min:(0,o.SU)(p).hrSecondPassSteps.min,max:(0,o.SU)(p).hrSecondPassSteps.max},null,8,["modelValue","min","max"])])),_:1}),(0,n.Wm)(h,{label:"重绘幅度"},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{modelValue:(0,o.SU)(a).denoising_strength,"onUpdate:modelValue":l[6]||(l[6]=e=>(0,o.SU)(a).denoising_strength=e),min:(0,o.SU)(p).denoisingStrength.min,max:(0,o.SU)(p).denoisingStrength.max,step:.1},null,8,["modelValue","min","max"])])),_:1})])),_:1})])],64)}}};function h(e){e.__source="src/views/stablediffusion/components/hdrepaire.vue"}var v=a(83744);"function"===typeof h&&h(b);const y=(0,v.Z)(b,[["__scopeId","data-v-78424496"]]);var W=y},3637:function(e,l,a){a.r(l),a.d(l,{default:function(){return F}});var t=a(73632),s=(a(3241),a(74965),a(22040)),d=(a(99426),a(16273)),i=a(10475),n=(a(29290),a(27977)),o=(a(40355),a(15659)),m=(a(10444),a(96872),a(66252)),r=a(49963);const u={class:"sd-creater-container"},c={class:"image-form"},_={class:"list-item"},p={class:"list-item-meta"},f={class:"list-item-meta-content-left"};function g(e,l,a,g,w,S){const U=n.p8,b=(0,m.up)("vab-icon"),h=o.ElButton,v=n.Ub,y=(0,m.up)("txt2imgFrom"),W=(0,m.up)("hdrepaireFrom"),x=(0,m.up)("ADtailerFrom"),V=i.Mr,k=d.Z,D=s.Dv,z=(0,m.up)("Taskqueue"),F=t.dq;return(0,m.wg)(),(0,m.iD)("div",u,[(0,m.Wm)(F,{gutter:20,class:"sd-row"},{default:(0,m.w5)((()=>[(0,m.Wm)(D,{xs:24,sm:12,md:8,lg:8,xl:8,class:"sd-col"},{default:(0,m.w5)((()=>[(0,m.Wm)(k,{shadow:"hover",class:"sd-card"},{default:(0,m.w5)((()=>[(0,m._)("div",c,[(0,m._)("ul",null,[(0,m._)("li",_,[(0,m._)("div",p,[(0,m._)("div",f,[(0,m.Wm)(v,{modelValue:e.formType,"onUpdate:modelValue":l[0]||(l[0]=l=>e.formType=l)},{default:(0,m.w5)((()=>[(0,m.Wm)(U,{label:"文/图生图",name:"basic"}),(0,m.Wm)(U,{label:"高清修复",name:"hdrepaire"}),(0,m.Wm)(U,{label:"ADetailer",name:"adetailer"}),(0,m.Wm)(U,{name:"forth",disabled:!0},{label:(0,m.w5)((()=>[(0,m.Wm)(h,{type:"success",loading:e.loading,onClick:e.handleSubmit},{default:(0,m.w5)((()=>[(0,m.wy)((0,m.Wm)(b,{icon:"bubble-chart-line",style:{fontSize:"16px"}},null,512),[[r.F8,!e.loading]]),(0,m.Uk)(" 戳我生图 ")])),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["modelValue"])])])])]),(0,m.Wm)(V,{class:"scrollbar",always:""},{default:(0,m.w5)((()=>["basic"===e.formType?((0,m.wg)(),(0,m.j4)(y,{key:0})):(0,m.kq)("",!0),"hdrepaire"===e.formType?((0,m.wg)(),(0,m.j4)(W,{key:1})):(0,m.kq)("",!0),"adetailer"===e.formType?((0,m.wg)(),(0,m.j4)(x,{key:2})):(0,m.kq)("",!0)])),_:1})])])),_:1})])),_:1}),(0,m.Wm)(D,{xs:24,sm:12,md:16,lg:16,xl:16,class:"sd-col"},{default:(0,m.w5)((()=>[(0,m.Wm)(k,{shadow:"hover",class:"sd-card"},{default:(0,m.w5)((()=>[(0,m.Wm)(z)])),_:1})])),_:1})])),_:1})])}var w=a(67584),S=a(58545),U=a(41090),b=a(97133),h=a(91222),v=a(40645),y=a(2262),W=a(47720),x=a(22201),V=(0,m.aZ)({name:"SdCreaterCenter",components:{txt2imgFrom:w["default"],hdrepaireFrom:S["default"],ADtailerFrom:U["default"],Taskqueue:b["default"]},setup(){const e=(0,m.f3)("$baseMessage"),l=(0,v.sP)(),a=(0,h.m)(),{formType:t}=(0,W.Jk)(a),{createImage:s,setFormData:d,getImageDetailResetParams:i}=a,n=(0,x.yj)();async function o(){i(n.query.image_id,n.query.topic_id)}(0,m.bv)((()=>{a.load(),n.query.topic_id&&o()}));const r=(0,y.qj)({activeName:"first",loading:!1});async function u(){try{r.loading=!0;const a=await s();a.body.missinId;e(a.msg,"success","vab-hey-message-success"),l.loadData()}catch(a){}finally{r.loading=!1}}return{...(0,y.BK)(r),formType:t,handleSubmit:u}}});function k(e){e.__source="src/views/stablediffusion/create.vue"}var D=a(83744);"function"===typeof k&&k(V);const z=(0,D.Z)(V,[["render",g],["__scopeId","data-v-186a0eee"]]);var F=z}}]);