/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-01-12 10:25:31
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[2957,6700,6981,8988],{23471:function(e,t,n){n.d(t,{$u:function(){return y},AX:function(){return l},BX:function(){return f},Bz:function(){return d},ET:function(){return _},QC:function(){return g},RS:function(){return m},SI:function(){return w},U$:function(){return p},Vf:function(){return r},Xc:function(){return s},ar:function(){return v},co:function(){return i},m9:function(){return u},oh:function(){return h},t4:function(){return c}});var a=n(92325),o=n(11555);function i(e){return(0,a.Z)({url:"/wwwapi.php?to=suanli_image&modac=device_image",method:"get",params:{client_id:e}})}function r(e,t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_image&modac=delete_image",method:"post",data:{client_id:e,image_id:t}})}function l(e){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=create_container_form",method:"post",data:e})}function u(e){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=create_container",method:"post",data:e})}function c(e){return(0,a.Z)({url:"/wwwapi.php?to=suanli_image&modac=pull_image",method:"post",data:e})}function d(e){return(0,a.Z)({url:"/wwwapi.php?to=suanli_image&modac=get_pull_progres",method:"post",data:{image_id:e}})}async function s(e){const{body:{hash:t}}=await(0,o.Gv)();return(0,a.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:e,formhash:t}})}function m(e){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=device_container",method:"get",params:{client_id:e}})}function _(e,t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=container_restart",method:"post",data:{client_id:e,container_id:t}})}function p(e,t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=container_stop",method:"post",data:{client_id:e,container_id:t}})}function f(e,t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=delete_container",method:"post",data:{client_id:e,container_id:t}})}function w(e){return(0,a.Z)({url:"/wwwapi.php?to=suanli_model&modac=device_model",method:"get",params:{client_id:e}})}function h(){return(0,a.Z)({url:"/wwwapi.php?to=suanli_model&modac=download_form",method:"post"})}function g(e){return(0,a.Z)({url:"/wwwapi.php?to=suanli_model&modac=download_model",method:"post",data:e})}function v(e,t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_model&modac=model_apply",method:"get",data:{client_id:e,host_model_id:t}})}function y(e){return(0,a.Z)({url:"/wwwapi.php?to=suanli_model&modac=model_delete",method:"get",params:{host_model_id:e}})}},95965:function(e,t,n){function a(){function e(e,t=2e3){return setInterval((()=>{e()}),t)}function t(e){e&&clearInterval(e)}return{startIntervalTimer:e,stopIntervalTimer:t}}n.d(t,{Z:function(){return a}})},85026:function(e,t,n){n.d(t,{M:function(){return o},b:function(){return a}});const a={container_name:[{required:!0,message:"容器名称必填",trigger:"change"}],persion_input_image_src:[{required:!0,message:"镜像地址必填",trigger:"change"}]},o={persion_input_image_src:[{required:!0,message:"镜像地址必填",trigger:"change"}]}},50796:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(15659),o=(n(3241),n(10444),n(20129)),i=(n(69840),n(10661)),r=(n(35095),n(63715)),l=(n(76252),n(72319),n(6589),n(57018)),u=(n(74367),n(66252)),c=n(2262),d=n(86136),s=n(23471),m=n(85026);const _={class:"comprehensive-form-container"};var p={__name:"create_container_dialog",emits:["finish"],setup(e,{expose:t,emit:n}){const p=(0,c.iH)(!1),f=(0,c.iH)(),w=()=>({client_id:"",create_from_where:"image_list",device_image_id:0,persion_input_image_src:"",container_name:"",container_ports:"",container_paths:"",host_gpu_select:[]}),h=(0,c.iH)([]),g=(0,c.iH)({...w()}),v=(0,c.iH)({...m.b}),y=(0,u.Fl)((()=>0==g.value.device_image_id));async function b(e,t=0){U(e,t),p.value=!0,g.value={...w(),client_id:e,create_from_where:t>0?"image_list":"extra_path",device_image_id:t,persion_input_image_src:""},(0,u.Y3)((()=>{f.value.clearValidate()}))}async function U(e,t){let n;n=t>0?{client_id:e,create_from_where:"image_list",device_image_id:t}:{client_id:e,create_from_where:"extra_path",device_image_id:0};const{body:a}=await(0,s.AX)(n);h.value=a.host_gpu_digital_ids}async function k(){await f.value.validate((async(e,t)=>{if(!e)return!1;await(0,s.m9)(g.value);p.value=!1,n("finish")}))}return t({showDialog:b}),(e,t)=>{const n=l.EZ,s=o.nH,m=r.lm,w=r.z5,b=(0,u.up)("vab-icon"),U=i.Q0,S=o.ly,Z=a.ElButton;return(0,u.wg)(),(0,u.iD)("div",_,[(0,u.Wm)((0,c.SU)(d["default"]),{modelValue:(0,c.SU)(p),"onUpdate:modelValue":t[6]||(t[6]=e=>(0,c.dq)(p)?p.value=e:null),title:"创建容器",width:"600px"},{footer:(0,u.w5)((()=>[(0,u.Wm)(Z,{onClick:t[5]||(t[5]=e=>p.value=!1)},{default:(0,u.w5)((()=>[(0,u.Uk)("取 消")])),_:1}),(0,u.Wm)(Z,{type:"primary",onClick:k},{default:(0,u.w5)((()=>[(0,u.Uk)(" 确 定 ")])),_:1})])),default:(0,u.w5)((()=>[(0,u.Wm)(S,{ref_key:"formRef",ref:f,class:"demo-form",model:(0,c.SU)(g),rules:(0,c.SU)(v),"label-width":"auto"},{default:(0,u.w5)((()=>[(0,u.Wm)(s,{label:"容器名称",prop:"container_name"},{default:(0,u.w5)((()=>[(0,u.Wm)(n,{modelValue:(0,c.SU)(g).container_name,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,c.SU)(g).container_name=e),placeholder:"创建完成后好在对应设备的“我的容器”中找它",class:"contianer-name"},null,8,["modelValue"])])),_:1}),(0,u.Wm)(s,{label:"GPU编号"},{default:(0,u.w5)((()=>[(0,u.Wm)(w,{modelValue:(0,c.SU)(g).host_gpu_select,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,c.SU)(g).host_gpu_select=e)},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)((0,c.SU)(h),(e=>((0,u.wg)(),(0,u.j4)(m,{key:e.gpu_digital_id,label:e.gpu_digital_id},null,8,["label"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,c.SU)(y)?((0,u.wg)(),(0,u.j4)(s,{key:0,label:"设定镜像",prop:"persion_input_image_src"},{default:(0,u.w5)((()=>[(0,u.Wm)(n,{modelValue:(0,c.SU)(g).persion_input_image_src,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,c.SU)(g).persion_input_image_src=e),placeholder:"镜像不在本地和镜像市场收藏夹，手动输入镜像地址",class:"contianer-name"},null,8,["modelValue"])])),_:1})):(0,u.kq)("",!0),(0,u.Wm)(s,{label:"映射端口"},{default:(0,u.w5)((()=>[(0,u.Wm)(n,{modelValue:(0,c.SU)(g).container_ports,"onUpdate:modelValue":t[3]||(t[3]=e=>(0,c.SU)(g).container_ports=e),placeholder:"例如：7680|80|3306，多个用英文“|”隔开",class:"contianer-name-helf"},null,8,["modelValue"]),(0,u.Wm)(U,{effect:"dark",content:"容器要映射的出来的内部端口，仅需填写镜像内的端口，最多4个，或者不填",placement:"top",class:"mx-1","raw-content":""},{default:(0,u.w5)((()=>[(0,u.Wm)(b,{icon:"question-line",class:"cursor-pointer"})])),_:1})])),_:1}),(0,u.Wm)(s,{label:"映射路径"},{default:(0,u.w5)((()=>[(0,u.Wm)(n,{modelValue:(0,c.SU)(g).container_paths,"onUpdate:modelValue":t[4]||(t[4]=e=>(0,c.SU)(g).container_paths=e),placeholder:"例如：/root/sd/models|/root/data，多个路径用英文“|”隔开",class:"contianer-name-helf"},null,8,["modelValue"]),(0,u.Wm)(U,{effect:"dark",content:"系统按顺序提供宿主机的模型公用目录/root/model和用户私有数据目录/root/data映射。<br>仅需写镜像内映射的路径，请对照好顺序填入镜像内对应的目录，或者不填",placement:"top",class:"mx-1","raw-content":""},{default:(0,u.w5)((()=>[(0,u.Wm)(b,{icon:"question-line",class:"cursor-pointer"})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}};function f(e){e.__source="src/views/gpumarket/mydevice/components/create_container_dialog.vue"}var w=n(83744);"function"===typeof f&&f(p);const h=(0,w.Z)(p,[["__scopeId","data-v-44bfd02c"]]);var g=h},27750:function(e,t,n){n.d(t,{Z:function(){return _}});var a=n(30032),o=(n(3241),n(91154),n(97830)),i=(n(13768),n(66252)),r=n(2262),l=n(3577),u=n(22201),c=(0,i.aZ)({__name:"index",props:{header:{type:String,default:""},bodyStyle:{type:Object,default:()=>({})},shadow:{type:String,default:""},skeleton:{type:Boolean,default:!1},skeletonRows:{type:Number,default:4}},setup(e){let t=null;const n=(0,r.iH)(!0);return t=setTimeout((()=>{n.value=!1}),500),(0,u.iS)(((e,n,a)=>{clearInterval(t),a()})),(t,u)=>{const c=o.vk,d=a.Kf;return(0,i.wg)(),(0,i.j4)(d,{"body-style":e.bodyStyle,class:"vab-card",shadow:e.shadow},(0,i.Nv)({default:(0,i.w5)((()=>[e.skeleton?((0,i.wg)(),(0,i.j4)(c,{key:0,animated:"",loading:(0,r.SU)(n),rows:e.skeletonRows},{default:(0,i.w5)((()=>[(0,i.WI)(t.$slots,"default",{class:"vab-card-transition"})])),_:3},8,["loading","rows"])):(0,i.WI)(t.$slots,"default",{key:1,class:"vab-card-transition"})])),_:2},[t.$slots.header||e.header?{name:"header",fn:(0,i.w5)((()=>[(0,i.WI)(t.$slots,"header",{},(()=>[(0,i.Uk)((0,l.zw)(e.header),1)]))])),key:"0"}:void 0]),1032,["body-style","shadow"])}}});function d(e){e.__source="library/components/VabCard/index.vue"}var s=n(83744);"function"===typeof d&&d(c);const m=(0,s.Z)(c,[["__scopeId","data-v-391150ea"]]);var _=m}}]);