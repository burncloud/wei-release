/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-11-06 12:25:27
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[4622],{26010:function(e,t,a){a.d(t,{Gc:function(){return o},TD:function(){return i},Vj:function(){return n},wV:function(){return c},xV:function(){return s}});a(57658);function i(e,t){if(0===arguments.length)return null;const a=t||"{y}-{m}-{d} {h}:{i}:{s}";let i;"object"===typeof e?i=e:("string"===typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"===typeof e&&10===e.toString().length&&(e*=1e3),i=new Date(e));const n={y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds(),a:i.getDay()};return a.replace(/{([ymdhisa])+}/g,((e,t)=>{let a=n[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a=`0${a}`),a||0)}))}function n(e=32){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";let a="";for(let i=0;i<e;i++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}function o(e,t,a){const i=Math.ceil(a/t);return e>=i}function c(e=0){document.getElementById("image-form-scroll").scrollTo({top:e,left:0,behavior:"smooth"})}function l(e=0){document.getElementById("task-queue-scroll").scrollTo({top:e,left:0,behavior:"smooth"})}function s(e=0){c(e),l(e)}},14622:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var i=a(27750),n=a(35756),o=(a(3241),a(19414),a(63715)),c=(a(5508),a(91194)),l=(a(2993),a(32590),a(10661)),s=(a(35095),a(14181)),d=(a(33828),a(57658),a(66252)),u=a(2262),m=a(65781),r=a(67970),f=a(36536),p=a(26010),g=a(33729),w=a.n(g),_=a(22201);const h=e=>((0,d.dD)("data-v-2571522f"),e=e(),(0,d.Cn)(),e),k={class:"taskqueue-tag-group"},b={class:"taskqueue-folow"},W={class:"taskqueue-image-group"},v={class:"taskqueue-image"},y={class:"image-slot"},I=h((()=>(0,d._)("div",null,"加载中",-1)));var x={__name:"index",props:{imageItem:{type:Object,default:()=>{}},images:{type:Array,default:()=>[]},imageIndex:{type:Number,default:0},redirect:{type:Boolean,default:!1}},emits:["topic"],setup(e,{emit:t}){const a=e,g=(0,d.f3)("$sub"),h=(0,d.f3)("$unsub"),x=(0,_.tv)();let V=!1;const C=(0,d.Fl)((()=>a.imageItem)),D=(0,f.m)(),{getImageDetailResetParams:S,setFormType:M,setUploadImage:U,hdSetUploadImage:$,adSetUploadImage:q}=D;async function E(e){a.redirect?(g("image-form-loaded",(()=>{S(e.picid),M("basic"),(0,p.xV)(),h("image-form-loaded")})),x.push("/sd/create")):(S(e.picid),M("basic"),(0,p.wV)())}async function B(e){const t={picid:e.picid,url:e.bigimg,title:e.title};a.redirect?(g("image-form-loaded",(()=>{U([{...t}]),M("basic"),(0,p.xV)(),h("image-form-loaded")})),x.push("/sd/create")):(U([{...t}]),M("basic"),(0,p.wV)())}async function P(e){const t={picid:e.picid,url:e.bigimg,title:e.title};a.redirect?(g("image-form-loaded",(()=>{$(t),M("hdrepaire"),(0,p.xV)(),h("image-form-loaded")})),x.push("/sd/create")):($(t),M("hdrepaire"),(0,p.wV)())}async function T(e){const t={picid:e.picid,url:e.bigimg,title:e.title};a.redirect?(g("image-form-loaded",(()=>{q(t),M("adetailer"),(0,p.xV)(),h("image-form-loaded")})),x.push("/sd/create")):(q(t),M("adetailer"),(0,p.wV)())}function j(e){t("topic",e)}function F(e){e.replace(/(.*\/)*([^.]+\.\w+).*/gi,"$2");w()(e)}function z(e){V||(V=!0,setTimeout((()=>{C.value.pic+=`&${Date.now()}`}),4e3))}return(t,a)=>{const f=(0,d.up)("PictureRounded"),p=s.gn,g=l.Q0,w=(0,d.up)("Picture"),_=(0,d.up)("Edit"),h=(0,d.up)("EditPen"),x=c.QQ,V=c.Lf,D=(0,d.up)("Share"),S=(0,d.up)("Download"),M=o.ElCheckbox,U=n.F8,$=i.Z;return(0,d.wg)(),(0,d.j4)($,{"body-style":{padding:"0px"},shadow:"hover",class:"taskqueue-card-body"},{default:(0,d.w5)((()=>[(0,d.Wm)((0,u.SU)(r["default"]),{show:e.imageItem.checked},{mask:(0,d.w5)((()=>[(0,d._)("div",k,[(0,d.Wm)(V,{style:{width:"100%"}},{default:(0,d.w5)((()=>[(0,d.Wm)(x,null,{default:(0,d.w5)((()=>[(0,d.Wm)(g,{class:"box-item",effect:"dark",content:"重绘",placement:"top"},{default:(0,d.w5)((()=>[(0,d.Wm)(p,{onClick:a[0]||(a[0]=t=>E(e.imageItem))},{default:(0,d.w5)((()=>[(0,d.Wm)(f)])),_:1})])),_:1}),(0,d.Wm)(g,{class:"box-item",effect:"dark",content:"图生图",placement:"top"},{default:(0,d.w5)((()=>[(0,d.Wm)(p,{onClick:a[1]||(a[1]=t=>B(e.imageItem))},{default:(0,d.w5)((()=>[(0,d.Wm)(w)])),_:1})])),_:1}),(0,d.Wm)(g,{class:"box-item",effect:"dark",content:"高清修复",placement:"top"},{default:(0,d.w5)((()=>[(0,d.Wm)(p,{onClick:a[2]||(a[2]=t=>P(e.imageItem))},{default:(0,d.w5)((()=>[(0,d.Wm)(_)])),_:1})])),_:1}),(0,d.Wm)(g,{class:"box-item",effect:"dark",content:"脸部修复",placement:"top"},{default:(0,d.w5)((()=>[(0,d.Wm)(p,{onClick:a[3]||(a[3]=t=>T(e.imageItem))},{default:(0,d.w5)((()=>[(0,d.Wm)(h)])),_:1})])),_:1})])),_:1})])),_:1})]),(0,d._)("div",b,[(0,d.Wm)(V,{style:{width:"100%"}},{default:(0,d.w5)((()=>[(0,d.Wm)(x,null,{default:(0,d.w5)((()=>[(0,d.Wm)(g,{class:"box-item",effect:"dark",content:"分享",placement:"top"},{default:(0,d.w5)((()=>[(0,d.Wm)(p,{onClick:a[4]||(a[4]=t=>j(e.imageItem.bigimg))},{default:(0,d.w5)((()=>[(0,d.Wm)(D)])),_:1})])),_:1}),(0,d.Wm)(g,{class:"box-item",effect:"dark",content:"下载",placement:"top"},{default:(0,d.w5)((()=>[(0,d.Wm)(p,{onClick:a[5]||(a[5]=t=>F(e.imageItem.bigimg))},{default:(0,d.w5)((()=>[(0,d.Wm)(S)])),_:1})])),_:1}),(0,d.Wm)(g,{class:"box-item",effect:"dark",content:"选中批量下载和分享",placement:"top"},{default:(0,d.w5)((()=>[(0,d.Wm)(M,{modelValue:(0,u.SU)(C).checked,"onUpdate:modelValue":a[6]||(a[6]=e=>(0,u.SU)(C).checked=e),label:"",size:"large"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])])),default:(0,d.w5)((()=>[(0,d._)("div",W,[(0,d._)("div",v,[(0,d.Wm)(U,{src:e.imageItem.pic,"zoom-rate":1.1,"preview-src-list":e.images,"initial-index":e.imageIndex,"hide-on-click-modal":!0,fit:"contain",lazy:!0,onError:z},{error:(0,d.w5)((()=>[(0,d._)("div",y,[(0,d._)("div",null,[I,(0,d.Wm)(p,{class:"icon"},{default:(0,d.w5)((()=>[(0,d.Wm)((0,u.SU)(m.Picture))])),_:1})])])])),_:1},8,["src","preview-src-list","initial-index"])])])])),_:1},8,["show"])])),_:1})}}};function V(e){e.__source="src/components/ImageItem/index.vue"}var C=a(83744);"function"===typeof V&&V(x);const D=(0,C.Z)(x,[["__scopeId","data-v-2571522f"]]);var S=D},67970:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var i=a(66252),n=a(3577);const o={class:"image-box"};var c={__name:"index",props:{show:{type:Boolean,default:!1},useMask:{type:Boolean,default:!0}},setup(e){return(t,a)=>((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",{class:(0,n.C_)(["image-mask",{"image-show":e.show,"mask-bg-color":e.useMask}])},[(0,i.WI)(t.$slots,"mask")],2),(0,i.WI)(t.$slots,"default")]))}};function l(e){e.__source="src/components/ImageMask/index.vue"}var s=a(83744);"function"===typeof l&&l(c);const d=(0,s.Z)(c,[["__scopeId","data-v-7e91c37a"]]);var u=d}}]);