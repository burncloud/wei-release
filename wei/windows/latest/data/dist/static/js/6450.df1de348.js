/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-01-24 17:41:57
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[6450],{81892:function(t,e,a){a.d(e,{Bn:function(){return d},Nq:function(){return p},lf:function(){return u},rK:function(){return i},t9:function(){return c},w8:function(){return s},yK:function(){return r}});var n=a(96486),o=a(92325),l=a(11555);function i(t){const e=(0,n.pickBy)(t,(t=>""!==t));return(0,o.Z)({url:"/wwwapi.php?to=suanli_market_dataset&filter=typeid",method:"get",params:e})}async function r(t,e){return(0,l.Gv)().then((({body:{hash:a}})=>{const l={formhash:a,searchoption:{[e.inputId]:{value:e.keyword}},searchsortsubmit:""},i=(0,n.pickBy)(t,(t=>""!==t));return(0,o.Z)({url:"/wwwapi.php?to=suanli_market_dataset&filter=sortid",method:"post",params:i,data:l})}))}function s(t){return(0,o.Z)({url:"/wwwapi.php?to=postFavlist&thread_forum=suanli_dataset",method:"get",params:t})}function u(){return(0,o.Z)({url:"/wwwapi.php?to=suanli_market&modac=dataset_down_form",method:"get"})}function c(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_market&modac=download_dataset",method:"post",data:t})}async function d(t){const{body:{hash:e}}=await(0,l.Gv)();return(0,o.Z)({url:"/wwwapi.php?to=postFavAdd",method:"get",params:{id:t,formhash:e}})}async function p(t){const{body:{hash:e}}=await(0,l.Gv)();return(0,o.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:e}})}},49527:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var n=a(66252),o=a(3577),l=a(2262);const i={class:"box"};var r={__name:"index",props:{icon:{type:String,default:""},size:{type:String,default:""},text:{type:[Number,String],default:""},color:{type:String,default:""}},setup(t){const e=t,a=(0,n.Fl)((()=>{const t={fontSize:e.size};return e.color&&(t.color=e.color),t}));return(e,r)=>{const s=(0,n.up)("vab-icon");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(s,{icon:t.icon,style:(0,o.j5)((0,l.SU)(a)),class:"icon"},null,8,["icon","style"]),(0,n._)("span",{style:(0,o.j5)((0,l.SU)(a))},(0,o.zw)(t.text),5)])}}};function s(t){t.__source="src/components/IconText/index.vue"}var u=a(83744);"function"===typeof s&&s(r);const c=(0,u.Z)(r,[["__scopeId","data-v-55dcc2f6"]]);var d=c},50668:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var n=a(10661),o=(a(3241),a(35095),a(66252)),l=a(2262),i=a(49527),r={__name:"tooltip",props:{tip:{type:String,default:""}},emits:["icon-click"],setup(t,{emit:e}){return(e,a)=>{const r=n.Q0;return(0,o.wg)(),(0,o.j4)(r,{effect:"dark",content:t.tip,placement:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)((0,l.SU)(i["default"]),(0,o.dG)(e.$attrs,{onClick:a[0]||(a[0]=t=>e.$emit("icon-click"))}),null,16)])),_:1},8,["content"])}}};function s(t){t.__source="src/components/IconText/tooltip.vue"}"function"===typeof s&&s(r);const u=r;var c=u},75807:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var n=a(15659),o=(a(3241),a(10444),a(20129)),l=(a(69840),a(6589),a(10661)),i=(a(35095),a(47820)),r=(a(50986),a(61715),a(57658),a(66252)),s=a(2262),u=a(86136),c=a(81892);const d={client_id:[{required:!0,message:"请选择设备",trigger:"change"}]};var p=a(22201);const f={class:"comprehensive-form-container"};var m={__name:"create_dialog",setup(t,{expose:e}){const a=(0,p.tv)(),m=(0,s.iH)(!1),_=(0,s.iH)([]),w=(0,s.iH)([]),v=(0,s.iH)(),h=()=>({client_id:"",to_device_to_container:"to_host",container_id:"",model_thread_id:""}),g=(0,s.iH)({...h()}),y=(0,s.iH)({...d});function k(t){m.value=!0,g.value={...h(),model_thread_id:t},b(),(0,r.Y3)((()=>{v.value.clearValidate()}))}async function b(){const{body:{hosts:t}}=await(0,c.lf)();_.value=t||[],w.value=[]}function W(t){const e=_.value.find((e=>e.host_id===t));w.value=e?e.containers:[],U.value=e?e.host_jump:""}function x(t){g.value.to_device_to_container=t>0?"to_container":"to_host";const e=_.value.find((t=>t.host_id==g.value.client_id));if(e){const a=e.containers.find((e=>e.ct_id===t));a&&(U.value=a.ct_jump)}}const U=(0,s.iH)("");async function S(){await v.value.validate((async(t,e)=>{if(!t)return!1;await(0,c.t9)(g.value),m.value=!1,"device_detail"===U.value?a.push({name:"DeviceDetail",params:{id:g.value.client_id},query:{tab:"dataset-list"}}):a.push({name:"Myhosts"})}))}return e({showDialog:k}),(t,e)=>{const a=i.BT,c=i.km,d=(0,r.up)("vab-icon"),p=l.Q0,h=o.nH,k=o.ly,b=n.ElButton;return(0,r.wg)(),(0,r.iD)("div",f,[(0,r.Wm)((0,s.SU)(u["default"]),{modelValue:(0,s.SU)(m),"onUpdate:modelValue":e[3]||(e[3]=t=>(0,s.dq)(m)?m.value=t:null),title:"数据集下载",width:"600px"},{footer:(0,r.w5)((()=>[(0,r.Wm)(b,{onClick:e[2]||(e[2]=t=>m.value=!1)},{default:(0,r.w5)((()=>[(0,r.Uk)("取 消")])),_:1}),(0,r.Wm)(b,{type:"primary",onClick:S},{default:(0,r.w5)((()=>[(0,r.Uk)(" 确 定 ")])),_:1})])),default:(0,r.w5)((()=>[(0,r.Wm)(k,{ref_key:"formRef",ref:v,class:"demo-form",model:(0,s.SU)(g),rules:(0,s.SU)(y),"label-width":"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(h,{label:"下载到设备",prop:"client_id",class:"flex"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:(0,s.SU)(g).client_id,"onUpdate:modelValue":e[0]||(e[0]=t=>(0,s.SU)(g).client_id=t),filterable:"",placeholder:"从“我的设备”里选择",class:"contianer-name flex-1",onChange:W},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,s.SU)(_),(t=>((0,r.wg)(),(0,r.j4)(a,{key:t.host_id,label:t.host_name||"未命名",value:t.host_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,r.Wm)(p,{effect:"dark",content:"数据集将下载到选中设备中，统一保存在本软件安装目录的dataset路径下",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{icon:"question-line",class:"cursor-pointer ml-2"})])),_:1})])),_:1}),(0,r.Wm)(h,{label:"应用到容器",class:"flex"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{modelValue:(0,s.SU)(g).container_id,"onUpdate:modelValue":e[1]||(e[1]=t=>(0,s.SU)(g).container_id=t),filterable:"",placeholder:"从“我的容器”里选择",class:"contianer-name flex-1",onChange:x},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,s.SU)(w),(t=>((0,r.wg)(),(0,r.j4)(a,{key:t.ct_id,label:t.ct_name,value:t.ct_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,r.Wm)(p,{effect:"dark",content:"数据集将下载到选中容器中，统一保存在容器的/root/dataset/目录下",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{icon:"question-line",class:"cursor-pointer ml-2"})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}};function _(t){t.__source="src/views/gpumarket/datasets/components/create_dialog.vue"}var w=a(83744);"function"===typeof _&&_(m);const v=(0,w.Z)(m,[["__scopeId","data-v-73270b14"]]);var h=v},6450:function(t,e,a){a.r(e),a.d(e,{default:function(){return U}});var n=a(27750),o=a(49676),l=(a(3241),a(73204),a(91194)),i=(a(2993),a(32590),a(77669)),r=(a(95774),a(15659)),s=(a(10444),a(86398)),u=(a(69448),a(66252)),c=a(3577),d=a(2262),p=a(50668),f=a(75807),m=a(81892);const _={class:"description-container"},w={class:"icon-wrapper"},v={class:"icon-wrapper"},h={class:"icon-wrapper"},g={class:"icon-wrapper"},y={class:"icon-wrapper"};var k={__name:"host_table",props:{tableData:{type:Array,default:()=>[]},pagination:{type:Object,default:()=>{}},page:{type:Number,default:1}},emits:["change-page","reload"],setup(t,{emit:e}){const a=(0,d.iH)(null),k=t=>{a.value.showDialog(t)};function b(t){e("change-page",t)}async function W(t){await(0,m.Bn)(t),e("reload")}async function x(t){await(0,m.Nq)(t),e("reload")}return(e,m)=>{const U=(0,u.up)("router-link"),S=s.gi,j=r.ElButton,z=i.vs,C=l.QQ,D=l.Lf,Z=o.R,H=n.Z;return(0,u.wg)(),(0,u.iD)("div",_,[t.tableData.length?((0,u.wg)(),(0,u.j4)(H,{key:0,shadow:"hover"},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(t.tableData,(t=>((0,u.wg)(),(0,u.j4)(D,{key:t.tid,column:1,size:"small",class:"custom-descriptions"},{title:(0,u.w5)((()=>[(0,u.Wm)(U,{to:`/gpumarket/dataset/${t.tid}`,class:"marginright"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,c.zw)(t.subject),1)])),_:2},1032,["to"]),(0,u.Wm)(S,null,{default:(0,u.w5)((()=>[(0,u.Uk)((0,c.zw)(t.threadsortshow.optionlist.model_star.value),1)])),_:2},1024)])),extra:(0,u.w5)((()=>[(0,u.Wm)(j,{type:"primary",onClick:e=>k(t.tid)},{default:(0,u.w5)((()=>[(0,u.Uk)(" 下载 ")])),_:2},1032,["onClick"])])),default:(0,u.w5)((()=>[(0,u.Wm)(C,null,{default:(0,u.w5)((()=>[(0,u._)("div",w,[(0,u.Wm)(U,{to:t.author_route,class:"flex"},{default:(0,u.w5)((()=>[(0,u.Wm)(z,{size:"small",src:t.authoravatar,class:"marginright"},null,8,["src"]),(0,u.Wm)(S,{class:"marginright"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,c.zw)(t.author),1)])),_:2},1024)])),_:2},1032,["to"]),(0,u.Wm)(S,{class:"marginright"},{default:(0,u.w5)((()=>[(0,u.Uk)("| "+(0,c.zw)(t.diff_date)+"更新",1)])),_:2},1024)])])),_:2},1024),(0,u.Wm)(C,null,{default:(0,u.w5)((()=>[(0,u.Wm)(S,{class:"mx-1"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,c.zw)(t.message),1)])),_:2},1024)])),_:2},1024),(0,u.Wm)(C,null,{default:(0,u.w5)((()=>[(0,u._)("div",v,[t.favid?((0,u.wg)(),(0,u.j4)(p["default"],{key:0,icon:"star-fill",color:"var(--has-collected-color)",text:t.favtimes,tip:"取消收藏",class:"cursor-pointer",onClick:e=>x(t.favid)},null,8,["text","onClick"])):((0,u.wg)(),(0,u.j4)(p["default"],{key:1,icon:"star-line",text:t.favtimes,tip:"收藏",class:"cursor-pointer",onClick:e=>W(t.tid)},null,8,["text","onClick"]))]),(0,u._)("div",h,[(0,u.Wm)(p["default"],{icon:"download-2-line",text:t.threadsortshow.optionlist.model_download.value,tip:"下载"},null,8,["text"])]),(0,u._)("div",g,[(0,u.Wm)(p["default"],{icon:"database-2-line",text:t.replies,tip:"评论"},null,8,["text"])]),(0,u._)("div",y,[(0,u.Wm)(p["default"],{icon:"database-2-line",text:t.threadsortshow.optionlist.model_size.value,tip:"大小"},null,8,["text"])])])),_:2},1024)])),_:2},1024)))),128)),(0,u.Wm)(Z,{"current-page":t.page,layout:"prev, pager, next","page-size":t.pagination.pageSize,total:t.pagination.total,onCurrentChange:b},null,8,["current-page","page-size","total"])])),_:1})):((0,u.wg)(),(0,u.j4)(H,{key:1,shadow:"hover"},{default:(0,u.w5)((()=>[(0,u.Uk)("暂无数据集记录")])),_:1})),(0,u.Wm)((0,d.SU)(f["default"]),{ref_key:"createDialogRef",ref:a},null,512)])}}};function b(t){t.__source="src/views/gpumarket/datasets/components/host_table.vue"}var W=a(83744);"function"===typeof b&&b(k);const x=(0,W.Z)(k,[["__scopeId","data-v-4c135c7e"]]);var U=x},27750:function(t,e,a){a.d(e,{Z:function(){return f}});var n=a(30032),o=(a(3241),a(91154),a(97830)),l=(a(13768),a(66252)),i=a(2262),r=a(3577),s=a(22201),u=(0,l.aZ)({__name:"index",props:{header:{type:String,default:""},bodyStyle:{type:Object,default:()=>({})},shadow:{type:String,default:""},skeleton:{type:Boolean,default:!1},skeletonRows:{type:Number,default:4}},setup(t){let e=null;const a=(0,i.iH)(!0);return e=setTimeout((()=>{a.value=!1}),500),(0,s.iS)(((t,a,n)=>{clearInterval(e),n()})),(e,s)=>{const u=o.vk,c=n.Kf;return(0,l.wg)(),(0,l.j4)(c,{"body-style":t.bodyStyle,class:"vab-card",shadow:t.shadow},(0,l.Nv)({default:(0,l.w5)((()=>[t.skeleton?((0,l.wg)(),(0,l.j4)(u,{key:0,animated:"",loading:(0,i.SU)(a),rows:t.skeletonRows},{default:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"default",{class:"vab-card-transition"})])),_:3},8,["loading","rows"])):(0,l.WI)(e.$slots,"default",{key:1,class:"vab-card-transition"})])),_:2},[e.$slots.header||t.header?{name:"header",fn:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"header",{},(()=>[(0,l.Uk)((0,r.zw)(t.header),1)]))])),key:"0"}:void 0]),1032,["body-style","shadow"])}}});function c(t){t.__source="library/components/VabCard/index.vue"}var d=a(83744);"function"===typeof c&&c(u);const p=(0,d.Z)(u,[["__scopeId","data-v-391150ea"]]);var f=p}}]);