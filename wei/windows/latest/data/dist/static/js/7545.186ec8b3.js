/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-01-24 12:03:10
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[7545],{23471:function(t,e,a){a.d(e,{$u:function(){return j},AX:function(){return w},BX:function(){return b},Bs:function(){return x},ET:function(){return v},Ep:function(){return i},IF:function(){return I},KD:function(){return T},LN:function(){return D},Nq:function(){return F},Pb:function(){return q},QC:function(){return U},RS:function(){return k},SI:function(){return W},U$:function(){return Z},Vf:function(){return m},Wz:function(){return c},Xc:function(){return y},Zr:function(){return r},Zt:function(){return X},ak:function(){return $},an:function(){return s},c1:function(){return d},co:function(){return _},cu:function(){return z},dd:function(){return u},e$:function(){return S},m9:function(){return f},mL:function(){return p},oh:function(){return C},sw:function(){return g},t4:function(){return h},vQ:function(){return E},wW:function(){return B},zB:function(){return G},zw:function(){return l}});var n=a(92325),o=a(11555);function r(t,e){return(0,n.Z)({url:"/wwwapi.php?to=suanli_device",method:"post",params:t,data:e})}function i(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_device&modac=detail",method:"get",params:{client_id:t}})}function u(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_device&modac=guanji",method:"post",data:t})}function c(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_device&modac=advance_setting",method:"post",data:t})}function d(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_device&modac=uninstall",method:"post",data:{client_id:t}})}function p(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_device&modac=reboot",method:"post",data:t})}function l(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_device&modac=delete_ddevice",method:"get",params:{client_id:t}})}function s(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_device&modac=shutdown",method:"post",data:{client_id:t}})}function _(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_image&modac=device_image",method:"get",params:{client_id:t}})}function m(t,e){return(0,n.Z)({url:"/wwwapi.php?to=suanli_image&modac=delete_image",method:"post",data:{client_id:t,image_id:e}})}function w(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_container&modac=create_container_form",method:"post",data:t})}function f(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_container&modac=create_container",method:"post",data:t})}function h(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_image&modac=pull_image",method:"post",data:t})}function g(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_image&modac=get_pull_progres",method:"post",data:{image_id:t}})}async function y(t){const{body:{hash:e}}=await(0,o.Gv)();return(0,n.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:e}})}function k(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_container&modac=device_container",method:"get",params:{client_id:t}})}function v(t,e){return(0,n.Z)({url:"/wwwapi.php?to=suanli_container&modac=container_restart",method:"post",data:{client_id:t,container_id:e}})}function Z(t,e){return(0,n.Z)({url:"/wwwapi.php?to=suanli_container&modac=container_stop",method:"post",data:{client_id:t,container_id:e}})}function b(t,e){return(0,n.Z)({url:"/wwwapi.php?to=suanli_container&modac=delete_container",method:"post",data:{client_id:t,container_id:e}})}function z(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_container&modac=get_create_progres",method:"post",data:{container_id:t}})}function W(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_model&modac=device_model",method:"get",params:{client_id:t}})}function C(){return(0,n.Z)({url:"/wwwapi.php?to=suanli_model&modac=download_form",method:"post"})}function U(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_model&modac=download_model",method:"post",data:t})}function x(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_model&modac=model_apply_form",method:"get",params:{client_id:t}})}function D(t,e){return(0,n.Z)({url:"/wwwapi.php?to=suanli_model&modac=model_apply",method:"post",params:t,data:e})}function j(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_model&modac=model_delete",method:"get",params:{host_model_id:t}})}function S(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_model&modac=get_download_progres",method:"get",data:{model_id:t}})}async function q(t){const{body:{hash:e}}=await(0,o.Gv)();return(0,n.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:e}})}function $(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=device_model",method:"get",params:{client_id:t}})}function B(){return(0,n.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=download_form",method:"post"})}function G(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=download_model",method:"post",data:t})}function I(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=model_apply_form",method:"get",params:{client_id:t}})}function T(t,e){return(0,n.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=model_apply",method:"post",params:t,data:e})}function X(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=model_delete",method:"get",params:{host_model_id:t}})}function E(t){return(0,n.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=get_download_progres",method:"get",data:{model_id:t}})}async function F(t){const{body:{hash:e}}=await(0,o.Gv)();return(0,n.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:e}})}},97545:function(t,e,a){a.r(e),a.d(e,{default:function(){return C}});var n=a(49676),o=(a(3241),a(73204),a(3837)),r=(a(81010),a(76128)),i=(a(74828),a(50591)),u=(a(89035),a(15659)),c=(a(10444),a(32018)),d=(a(46160),a(10661)),p=(a(35095),a(50363),a(66252)),l=a(3577),s=a(2262),_=a(48123),m=a(41029),w=a(95965),f=a(23471);const h={m:"4"},g={m:"t-0 b-2"},y={m:"t-0 b-2"},k={m:"t-0 b-2"},v={class:"el-progress-action"};var Z={__name:"docker_list",props:{tableData:{type:Array,default:()=>[]},pagination:{type:Object,default:()=>{}},page:{type:Number,default:1}},emits:["change-page","reload"],setup(t,{emit:e}){const a=(0,p.f3)("$baseMessage"),{startTimeoutTimer:Z}=(0,w.Z)();function b(t){e("change-page",t)}const z=(0,s.iH)();async function W(t){z.value.showDialog(t)}async function C(t,n){await(0,f.ET)(t,n),a("开启容器成功","success","vab-hey-message-success"),Z((()=>{e("reload")}))}async function U(t,n){await(0,f.U$)(t,n),a("停止容器成功","success","vab-hey-message-success"),Z((()=>{e("reload")}))}async function x(t,n){await(0,f.BX)(t,n),a("删除容器成功","success","vab-hey-message-success"),Z((()=>{e("reload")}))}return(e,a)=>{const w=o.$Y,f=d.Q0,Z=c.Xh,D=u.ElButton,j=i.i1,S=r.GT,q=o.eI,$=n.R;return(0,p.wg)(),(0,p.iD)("div",null,[(0,p.Wm)(q,{fit:"",flexible:"",stripe:"","table-layout":"auto",data:t.tableData,"row-key":"ct_id",class:"data-list"},{empty:(0,p.w5)((()=>[(0,p.Wm)(S,{class:"vab-data-empty",description:"暂无容器，请到“算力市场”选择主机创建容器"})])),default:(0,p.w5)((()=>[(0,p.Wm)(w,{type:"expand",fixed:""},{default:(0,p.w5)((({row:t})=>[(0,p._)("div",h,[(0,p._)("p",g," GPU："+(0,l.zw)(t.ct_host_gpu_name)+" * "+(0,l.zw)(t.ct_gpu_count),1),(0,p._)("p",y,"CPU："+(0,l.zw)(t.ct_host_cpu_name)+" * 1",1),(0,p._)("p",k,"硬盘："+(0,l.zw)(t.ct_host_disk_type_str),1)])])),_:1}),(0,p.Wm)(w,{label:"主机UUID",prop:"ct_host_name",sortable:""},{default:(0,p.w5)((({row:t})=>[(0,p.Wm)(f,{effect:"dark",content:t.ct_host_name,placement:"top"},{default:(0,p.w5)((()=>[(0,p.Uk)((0,l.zw)(t.format_ct_host_name),1)])),_:2},1032,["content"]),(0,p.Wm)((0,s.SU)(_["default"]),{text:t.ct_host_name},null,8,["text"])])),_:1}),(0,p.Wm)(w,{label:"容器名称",prop:"ct_name"},{default:(0,p.w5)((({row:t})=>[(0,p.Uk)((0,l.zw)(t.ct_name)+" ",1),(0,p.Wm)((0,s.SU)(_["default"]),{text:t.ct_name},null,8,["text"])])),_:1}),(0,p.Wm)(w,{label:"基于镜像",prop:"ct_image_ci_name",sortable:""},{default:(0,p.w5)((({row:t})=>[(0,p.Wm)(f,{effect:"dark",content:t.ct_image_ci_name,placement:"top"},{default:(0,p.w5)((()=>[(0,p.Uk)((0,l.zw)(t.format_ct_image_ci_name),1)])),_:2},1032,["content"]),(0,p.Wm)((0,s.SU)(_["default"]),{text:t.ct_image_ci_name},null,8,["text"])])),_:1}),(0,p.Wm)(w,{label:"状态",prop:"ct_use_status_str"}),(0,p.Wm)(w,{label:"主机",prop:"ct_host_status_str"}),(0,p.Wm)(w,{label:"操作",prop:"truedata"},{default:(0,p.w5)((({row:t})=>[(0,p._)("div",v,[t.ct_operation_array.showProcess?((0,p.wg)(),(0,p.j4)(Z,{key:0,"text-inside":!0,"stroke-width":20,percentage:t.ct_operation_array.progress_num,striped:"",size:"small"},null,8,["percentage"])):((0,p.wg)(),(0,p.iD)(p.HY,{key:1},[t.ct_operation_array.download_model?((0,p.wg)(),(0,p.j4)(D,{key:0,type:"primary",size:"small",onClick:e=>W(t.ct_id)},{default:(0,p.w5)((()=>[(0,p.Uk)(" 下载模型 ")])),_:2},1032,["onClick"])):(0,p.kq)("",!0),t.ct_operation_array.download_dataset?((0,p.wg)(),(0,p.j4)(D,{key:1,type:"primary",size:"small",onClick:e=>W(t.ct_id)},{default:(0,p.w5)((()=>[(0,p.Uk)(" 数据集 ")])),_:2},1032,["onClick"])):(0,p.kq)("",!0),t.ct_operation_array.startContainer?((0,p.wg)(),(0,p.j4)(D,{key:2,type:"primary",size:"small",onClick:e=>C(t.ct_host_id,t.ct_id)},{default:(0,p.w5)((()=>[(0,p.Uk)(" 开启 ")])),_:2},1032,["onClick"])):(0,p.kq)("",!0),t.ct_operation_array.stopContainer?((0,p.wg)(),(0,p.j4)(D,{key:3,type:"warning",size:"small",onClick:e=>U(t.ct_host_id,t.ct_id)},{default:(0,p.w5)((()=>[(0,p.Uk)(" 停止 ")])),_:2},1032,["onClick"])):(0,p.kq)("",!0)],64)),t.ct_operation_array.delete?((0,p.wg)(),(0,p.j4)(j,{key:2,title:"确定删除此容器吗？",onConfirm:e=>x(t.ct_host_id,t.ct_id)},{reference:(0,p.w5)((()=>[(0,p.Wm)(D,{type:"danger",size:"small"},{default:(0,p.w5)((()=>[(0,p.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"])):(0,p.kq)("",!0)])])),_:1})])),_:1},8,["data"]),(0,p.Wm)((0,s.SU)(m["default"]),{ref_key:"downloadModelDialogRef",ref:z},null,512),(0,p.Wm)($,{"current-page":t.page,layout:"prev, pager, next","page-size":t.pagination.pageSize,total:t.pagination.total,onCurrentChange:b},null,8,["current-page","page-size","total"])])}}};function b(t){t.__source="src/views/gpumarket/myhosts/components/docker_list.vue"}var z=a(83744);"function"===typeof b&&b(Z);const W=(0,z.Z)(Z,[["__scopeId","data-v-ae073008"]]);var C=W}}]);