/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-01-22 15:58:23
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[288,8123,689],{81464:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(81095),o=a(26593);function r(e){n.gp.$baseMessage(`拷贝${e}成功`,"success","vab-hey-message-success",!1)}function s(e){n.gp.$baseMessage(`拷贝${e}失败`,"error","vab-hey-message-success",!1)}function c(e){const{isSupported:t,copy:a}=(0,o.VPI)();t||(0,o.gIw)("clipboard-write"),a(e).then((()=>{r(e)})).catch((t=>{console.log(t),s(e)}))}},95965:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(23279),o=a.n(n);function r(){function e(e,t=3e3){return setInterval((()=>{e()}),t)}function t(e){e&&clearInterval(e)}function a(e,t=1e4){return setTimeout((()=>{e()}),t)}function n(e,t=3e3){o()((()=>{e()}),t)()}return{startIntervalTimer:e,stopIntervalTimer:t,startTimeoutTimer:a,startDebounce:n}}},48123:function(e,t,a){a.r(t),a.d(t,{default:function(){return l}});var n=a(66252),o=a(2262),r=a(81464),s={__name:"index",props:{text:{type:String,default:""}},setup(e){return(t,a)=>{const s=(0,n.up)("vab-icon");return(0,n.wg)(),(0,n.j4)(s,{icon:"file-copy-2-line",class:"cursor-pointer",onClick:a[0]||(a[0]=t=>(0,o.SU)(r.Z)(e.text))})}}};function c(e){e.__source="src/components/ClipboardButton/index.vue"}"function"===typeof c&&c(s);const i=s;var l=i},56562:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var n=a(49676),o=(a(3241),a(73204),a(3837)),r=(a(81010),a(76128)),s=(a(74828),a(50591)),c=(a(89035),a(15659)),i=(a(10444),a(32018)),l=(a(46160),a(10661)),u=(a(35095),a(50363),a(66252)),_=a(3577),p=a(2262),m=a(48123),d=a(16800),f=a(95965),g=a(23471);const w={m:"4"},y={m:"t-0 b-2"},k={m:"t-0 b-2"},b={m:"t-0 b-2"},h={class:"el-progress-action"};var v={__name:"docker_list",props:{tableData:{type:Array,default:()=>[]},pagination:{type:Object,default:()=>{}},page:{type:Number,default:1}},emits:["change-page","reload"],setup(e,{emit:t}){const a=(0,u.f3)("$baseMessage"),{startTimeoutTimer:v}=(0,f.Z)();function U(e){t("change-page",e)}const C=(0,p.iH)();async function z(e){C.value.showDialog(e)}async function W(e,n){await(0,g.ET)(e,n),a("开启容器成功","success","vab-hey-message-success"),v((()=>{t("reload")}))}async function x(e,n){await(0,g.U$)(e,n),a("停止容器成功","success","vab-hey-message-success"),v((()=>{t("reload")}))}async function I(e,n){await(0,g.BX)(e,n),a("删除容器成功","success","vab-hey-message-success"),v((()=>{t("reload")}))}return(t,a)=>{const f=o.$Y,g=l.Q0,v=i.Xh,T=c.ElButton,j=s.i1,D=r.GT,S=o.eI,$=n.R;return(0,u.wg)(),(0,u.iD)("div",null,[(0,u.Wm)(S,{fit:"",flexible:"",stripe:"","table-layout":"auto",data:e.tableData,"row-key":"ct_id",class:"data-list"},{empty:(0,u.w5)((()=>[(0,u.Wm)(D,{class:"vab-data-empty",description:"暂无容器，请到“算力市场”选择主机创建容器"})])),default:(0,u.w5)((()=>[(0,u.Wm)(f,{type:"expand",fixed:""},{default:(0,u.w5)((({row:e})=>[(0,u._)("div",w,[(0,u._)("p",y," GPU："+(0,_.zw)(e.ct_host_gpu_name)+" * "+(0,_.zw)(e.ct_gpu_count),1),(0,u._)("p",k,"CPU："+(0,_.zw)(e.ct_host_cpu_name)+" * 1",1),(0,u._)("p",b,"硬盘："+(0,_.zw)(e.ct_host_disk_type_str),1)])])),_:1}),(0,u.Wm)(f,{label:"主机UUID",prop:"ct_host_name",sortable:""},{default:(0,u.w5)((({row:e})=>[(0,u.Wm)(g,{effect:"dark",content:e.ct_host_name,placement:"top"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,_.zw)(e.format_ct_host_name),1)])),_:2},1032,["content"]),(0,u.Wm)((0,p.SU)(m["default"]),{text:e.ct_host_name},null,8,["text"])])),_:1}),(0,u.Wm)(f,{label:"容器名称",prop:"ct_name"},{default:(0,u.w5)((({row:e})=>[(0,u.Uk)((0,_.zw)(e.ct_name)+" ",1),(0,u.Wm)((0,p.SU)(m["default"]),{text:e.ct_name},null,8,["text"])])),_:1}),(0,u.Wm)(f,{label:"基于镜像",prop:"ct_image_ci_name",sortable:""},{default:(0,u.w5)((({row:e})=>[(0,u.Wm)(g,{effect:"dark",content:e.ct_image_ci_name,placement:"top"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,_.zw)(e.format_ct_image_ci_name),1)])),_:2},1032,["content"]),(0,u.Wm)((0,p.SU)(m["default"]),{text:e.ct_image_ci_name},null,8,["text"])])),_:1}),(0,u.Wm)(f,{label:"状态",prop:"ct_use_status_str"}),(0,u.Wm)(f,{label:"操作",prop:"truedata"},{default:(0,u.w5)((({row:e})=>[(0,u._)("div",h,[e.ct_operation_array.showProcess?((0,u.wg)(),(0,u.j4)(v,{key:0,"text-inside":!0,"stroke-width":20,percentage:e.ct_operation_array.progress_num,striped:"",size:"small"},null,8,["percentage"])):((0,u.wg)(),(0,u.iD)(u.HY,{key:1},[e.ct_operation_array.download_model?((0,u.wg)(),(0,u.j4)(T,{key:0,type:"primary",size:"small",onClick:t=>z(e.ct_host_id)},{default:(0,u.w5)((()=>[(0,u.Uk)(" 下载模型 ")])),_:2},1032,["onClick"])):(0,u.kq)("",!0),e.ct_operation_array.download_dataset?((0,u.wg)(),(0,u.j4)(T,{key:1,type:"primary",size:"small"},{default:(0,u.w5)((()=>[(0,u.Uk)(" 数据集 ")])),_:1})):(0,u.kq)("",!0),e.ct_operation_array.startContainer?((0,u.wg)(),(0,u.j4)(T,{key:2,type:"primary",size:"small",onClick:t=>W(e.ct_host_id,e.ct_id)},{default:(0,u.w5)((()=>[(0,u.Uk)(" 开启 ")])),_:2},1032,["onClick"])):(0,u.kq)("",!0),e.ct_operation_array.stopContainer?((0,u.wg)(),(0,u.j4)(T,{key:3,type:"warning",size:"small",onClick:t=>x(e.ct_host_id,e.ct_id)},{default:(0,u.w5)((()=>[(0,u.Uk)(" 停止 ")])),_:2},1032,["onClick"])):(0,u.kq)("",!0)],64)),e.ct_operation_array.delete?((0,u.wg)(),(0,u.j4)(j,{key:2,title:"确定删除此容器吗？",onConfirm:t=>I(e.ct_host_id,e.ct_id)},{reference:(0,u.w5)((()=>[(0,u.Wm)(T,{type:"danger",size:"small"},{default:(0,u.w5)((()=>[(0,u.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"])):(0,u.kq)("",!0)])])),_:1})])),_:1},8,["data"]),(0,u.Wm)((0,p.SU)(d["default"]),{ref_key:"downloadModelDialogRef",ref:C},null,512),(0,u.Wm)($,{"current-page":e.page,layout:"prev, pager, next","page-size":e.pagination.pageSize,total:e.pagination.total,onCurrentChange:U},null,8,["current-page","page-size","total"])])}}};function U(e){e.__source="src/views/gpumarket/myhosts/components/docker_list.vue"}var C=a(83744);"function"===typeof U&&U(v);const z=(0,C.Z)(v,[["__scopeId","data-v-7a2c4ac2"]]);var W=z}}]);