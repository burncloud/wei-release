/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-10-23 18:42:13
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[7807,9502,6616],{33221:function(e,a,l){l.r(a),l.d(a,{default:function(){return k}});var t=l(47223),d=(l(3241),l(96624),l(57018)),o=(l(74367),l(14132)),n=(l(50986),l(61715),l(20129)),i=(l(69840),l(6589),l(35756)),s=(l(19414),l(66252)),m=l(2262),r=l(3577),u=l(97280),c=l(29819),_=l(91222),p=l(47720);const f=e=>((0,s.dD)("data-v-06e00ad0"),e=e(),(0,s.Cn)(),e),g={class:"ADtailerFrom"},w={key:1,class:"el-card el-upload-dragger list-item"},b=f((()=>(0,s._)("div",{class:"list-item-meta"},[(0,s._)("div",{class:"list-item-meta-content-left"},[(0,s._)("ul",null,[(0,s._)("li",null,"请从任务列表选择想要操作的图片"),(0,s._)("li",null,"点击图片上的 (ADtailer修复) 按钮")])])],-1))),S=[b],U={class:"txt2imgFrom"};var h={__name:"adetailer",setup(e){const a=(0,_.m)(),{adetailerForm:l,adetailerOptions:f}=(0,p.Jk)(a),{adSetUploadImage:b}=a;return(e,a)=>{const _=i.F8,p=(0,s.up)("vab-icon"),h=n.nH,v=n.ly,y=o.BT,W=o.ElSelect,k=d.EZ,x=t.BM;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",g,[(0,s.Wm)(v,{"label-position":"top","label-width":"100px"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{label:"基础图片"},{default:(0,s.w5)((()=>[(0,m.SU)(l).base_image.url?((0,s.wg)(),(0,s.j4)((0,m.SU)(u["default"]),{key:0},{image:(0,s.w5)((()=>[(0,s.Wm)(_,{src:(0,m.SU)(l).base_image.url,width:"48"},null,8,["src"])])),header:(0,s.w5)((()=>[(0,s._)("span",null,(0,r.zw)((0,m.SU)(l).base_image.title),1)])),action:(0,s.w5)((()=>[(0,s.Wm)(p,{icon:"delete-bin-6-line",class:"cursor-pointer",style:{color:"var(--el-color-danger)"},onClick:a[0]||(a[0]=e=>(0,m.SU)(b)({}))})])),_:1})):((0,s.wg)(),(0,s.iD)("div",w,S))])),_:1})])),_:1})]),(0,s._)("div",U,[(0,s.Wm)(v,{"label-position":"top","label-width":"100px"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{label:"ADetailer 模型"},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{modelValue:(0,m.SU)(l).ad_model,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,m.SU)(l).ad_model=e),clearable:"",placeholder:"Select"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,m.SU)(f).adModel,(e=>((0,s.wg)(),(0,s.j4)(y,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,s.Wm)(h,{label:""},{default:(0,s.w5)((()=>[(0,s.Wm)((0,m.SU)(c["default"]),{"lora-styles":(0,m.SU)(f).loraStyle,"form-styles":(0,m.SU)(l).lora_styles},null,8,["lora-styles","form-styles"])])),_:1}),(0,s.Wm)(h,{label:"创意描述"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{modelValue:(0,m.SU)(l).ad_prompt_words,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,m.SU)(l).ad_prompt_words=e),type:"textarea",rows:"3"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(h,{label:"排除词"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{modelValue:(0,m.SU)(l).ad_negative_prompt_words,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,m.SU)(l).ad_negative_prompt_words=e),type:"textarea",rows:"3"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(h,{label:"置信度"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{modelValue:(0,m.SU)(l).ad_confidence,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,m.SU)(l).ad_confidence=e),min:(0,m.SU)(f).adConfidence.min,max:(0,m.SU)(f).adConfidence.max,step:.1},null,8,["modelValue","min","max"])])),_:1}),(0,s.Wm)(h,{label:"重绘蒙版模糊"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{modelValue:(0,m.SU)(l).ad_dilate_erode,"onUpdate:modelValue":a[5]||(a[5]=e=>(0,m.SU)(l).ad_dilate_erode=e),min:(0,m.SU)(f).adMaskBlur.min,max:(0,m.SU)(f).adMaskBlur.max},null,8,["modelValue","min","max"])])),_:1}),(0,s.Wm)(h,{label:"重绘噪声强度"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{modelValue:(0,m.SU)(l).ad_denoising_strength,"onUpdate:modelValue":a[6]||(a[6]=e=>(0,m.SU)(l).ad_denoising_strength=e),min:(0,m.SU)(f).adDenoisingStrength.min,max:(0,m.SU)(f).adDenoisingStrength.max,step:.1},null,8,["modelValue","min","max"])])),_:1})])),_:1})])],64)}}};function v(e){e.__source="src/views/stablediffusion/components/adetailer.vue"}var y=l(83744);"function"===typeof v&&v(h);const W=(0,y.Z)(h,[["__scopeId","data-v-06e00ad0"]]);var k=W},58545:function(e,a,l){l.r(a),l.d(a,{default:function(){return W}});var t=l(47223),d=(l(3241),l(96624),l(14132)),o=(l(50986),l(61715),l(20129)),n=(l(69840),l(6589),l(35756)),i=(l(19414),l(66252)),s=l(2262),m=l(3577),r=l(97280),u=l(18594),c=l(91222),_=l(47720);const p=e=>((0,i.dD)("data-v-78424496"),e=e(),(0,i.Cn)(),e),f={class:"HDRepaireFrom"},g={key:1,class:"el-card el-upload-dragger list-item"},w=p((()=>(0,i._)("div",{class:"list-item-meta"},[(0,i._)("div",{class:"list-item-meta-content-left"},[(0,i._)("ul",null,[(0,i._)("li",null,"请从任务列表选择想要操作的图片"),(0,i._)("li",null,"点击图片上的 (高清修复) 按钮")])])],-1))),b=[w],S={class:"txt2imgFrom"};var U={__name:"hdrepaire",setup(e){const a=(0,c.m)(),{hdrepaireForm:l,hdrepaireOptions:p,isHdrepaireCustomImageSize:w}=(0,_.Jk)(a),{hdSetUploadImage:U}=a;return(e,a)=>{const c=n.F8,_=(0,i.up)("vab-icon"),h=o.nH,v=o.ly,y=d.BT,W=d.ElSelect,k=t.BM;return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",f,[(0,i.Wm)(v,{"label-position":"top","label-width":"100px"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{label:"基础图片"},{default:(0,i.w5)((()=>[(0,s.SU)(l).base_image.url?((0,i.wg)(),(0,i.j4)((0,s.SU)(r["default"]),{key:0},{image:(0,i.w5)((()=>[(0,i.Wm)(c,{src:(0,s.SU)(l).base_image.url,width:"48"},null,8,["src"])])),header:(0,i.w5)((()=>[(0,i._)("span",null,(0,m.zw)((0,s.SU)(l).base_image.title),1)])),action:(0,i.w5)((()=>[(0,i.Wm)(_,{icon:"delete-bin-6-line",class:"cursor-pointer",style:{color:"var(--el-color-danger)"},onClick:a[0]||(a[0]=e=>(0,s.SU)(U)({}))})])),_:1})):((0,i.wg)(),(0,i.iD)("div",g,b))])),_:1})])),_:1})]),(0,i._)("div",S,[(0,i.Wm)(v,{"label-position":"top","label-width":"100px"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{label:"放大倍数"},{default:(0,i.w5)((()=>[(0,i.Wm)((0,s.SU)(u["default"]),{size:(0,s.SU)(l).hr_scale,"onUpdate:size":a[1]||(a[1]=e=>(0,s.SU)(l).hr_scale=e),width:(0,s.SU)(l).hr_resize_x,"onUpdate:width":a[2]||(a[2]=e=>(0,s.SU)(l).hr_resize_x=e),height:(0,s.SU)(l).hr_resize_y,"onUpdate:height":a[3]||(a[3]=e=>(0,s.SU)(l).hr_resize_y=e),"image-size":(0,s.SU)(p).hrImageSize,"image-size-custom":(0,s.SU)(p).imageSizeCustom,disabled:!(0,s.SU)(w)},null,8,["size","width","height","image-size","image-size-custom","disabled"])])),_:1}),(0,i.Wm)(h,{label:"修复方式"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{modelValue:(0,s.SU)(l).hr_upscaler,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,s.SU)(l).hr_upscaler=e),clearable:""},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,s.SU)(p).hrUpscaler,(e=>((0,i.wg)(),(0,i.j4)(y,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,i.Wm)(h,{label:"高清采样次数"},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{modelValue:(0,s.SU)(l).hr_second_pass_steps,"onUpdate:modelValue":a[5]||(a[5]=e=>(0,s.SU)(l).hr_second_pass_steps=e),min:(0,s.SU)(p).hrSecondPassSteps.min,max:(0,s.SU)(p).hrSecondPassSteps.max},null,8,["modelValue","min","max"])])),_:1}),(0,i.Wm)(h,{label:"重绘幅度"},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{modelValue:(0,s.SU)(l).denoising_strength,"onUpdate:modelValue":a[6]||(a[6]=e=>(0,s.SU)(l).denoising_strength=e),min:(0,s.SU)(p).denoisingStrength.min,max:(0,s.SU)(p).denoisingStrength.max,step:.1},null,8,["modelValue","min","max"])])),_:1})])),_:1})])],64)}}};function h(e){e.__source="src/views/stablediffusion/components/hdrepaire.vue"}var v=l(83744);"function"===typeof h&&h(U);const y=(0,v.Z)(U,[["__scopeId","data-v-78424496"]]);var W=y},83258:function(e,a,l){l.r(a),l.d(a,{default:function(){return D}});var t=l(73632),d=(l(3241),l(74965),l(22040)),o=(l(99426),l(16273)),n=l(10475),i=(l(29290),l(15659)),s=(l(10444),l(27977)),m=(l(40355),l(96872),l(66252)),r=l(49963);const u={class:"sd-creater-container"},c={class:"hidden-sm-and-up"},_={class:"image-form"},p={class:"list-item-meta"},f={class:"list-item-meta-content-left"};function g(e,a,l,g,w,b){const S=s.p8,U=s.Ub,h=(0,m.up)("vab-icon"),v=i.ElButton,y=(0,m.up)("txt2imgFrom"),W=(0,m.up)("hdrepaireFrom"),k=(0,m.up)("ADtailerFrom"),x=n.Mr,V=o.Z,T=d.Dv,C=(0,m.up)("Taskqueue"),D=t.dq;return(0,m.wg)(),(0,m.iD)("div",u,[(0,m._)("div",c,[(0,m.Wm)(U,{modelValue:e.topTab,"onUpdate:modelValue":a[0]||(a[0]=a=>e.topTab=a),onTabClick:e.handleTopClick},{default:(0,m.w5)((()=>[(0,m.Wm)(S,{label:"工作台",name:"form"}),(0,m.Wm)(S,{label:"生成列表",name:"result"})])),_:1},8,["modelValue","onTabClick"])]),(0,m.Wm)(D,{gutter:20,class:"sd-row"},{default:(0,m.w5)((()=>[(0,m.wy)((0,m.Wm)(T,{xs:24,sm:12,md:10,lg:10,xl:8,class:"sd-col"},{default:(0,m.w5)((()=>[(0,m.Wm)(V,{shadow:"hover",class:"sd-card"},{default:(0,m.w5)((()=>[(0,m._)("div",_,[(0,m._)("div",p,[(0,m._)("div",f,[(0,m.Wm)(U,{modelValue:e.formType,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formType=a)},{default:(0,m.w5)((()=>[(0,m.Wm)(S,{label:"文/图生图",name:"basic"}),(0,m.Wm)(S,{label:"高清修复",name:"hdrepaire"}),(0,m.Wm)(S,{label:"ADetailer",name:"adetailer"}),(0,m.Wm)(S,{name:"forth",disabled:!0},{label:(0,m.w5)((()=>[(0,m.Wm)(v,{class:"hidden-md-and-down",type:"success",loading:e.loading,onClick:e.handleSubmit},{default:(0,m.w5)((()=>[(0,m.wy)((0,m.Wm)(h,{icon:"bubble-chart-line",style:{fontSize:"16px"}},null,512),[[r.F8,!e.loading]]),(0,m.Uk)(" 戳我生图 ")])),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["modelValue"]),(0,m.Wm)(v,{class:"hidden-lg-and-up",type:"success",loading:e.loading,onClick:e.handleSubmit},{default:(0,m.w5)((()=>[(0,m.wy)((0,m.Wm)(h,{icon:"bubble-chart-line",style:{fontSize:"16px"}},null,512),[[r.F8,!e.loading]]),(0,m.Uk)(" 戳我生图 ")])),_:1},8,["loading","onClick"])])]),(0,m.Wm)(x,{class:"scrollbar",always:""},{default:(0,m.w5)((()=>["basic"===e.formType?((0,m.wg)(),(0,m.j4)(y,{key:0})):(0,m.kq)("",!0),"hdrepaire"===e.formType?((0,m.wg)(),(0,m.j4)(W,{key:1})):(0,m.kq)("",!0),"adetailer"===e.formType?((0,m.wg)(),(0,m.j4)(k,{key:2})):(0,m.kq)("",!0)])),_:1})])])),_:1})])),_:1},512),[[r.F8,e.showTopTabPane("form")]]),(0,m.wy)((0,m.Wm)(T,{xs:24,sm:12,md:14,lg:14,xl:16,class:"sd-col"},{default:(0,m.w5)((()=>[(0,m.Wm)(V,{shadow:"hover",class:"sd-card"},{default:(0,m.w5)((()=>[(0,m.Wm)(C)])),_:1})])),_:1},512),[[r.F8,e.showTopTabPane("result")]])])),_:1})])}var w=l(67584),b=l(58545),S=l(33221),U=l(97133),h=l(91222),v=l(40645),y=l(2262),W=l(47720),k=l(22201),x=(0,m.aZ)({name:"SdCreaterCenter",components:{txt2imgFrom:w["default"],hdrepaireFrom:b["default"],ADtailerFrom:S["default"],Taskqueue:U["default"]},setup(){const e=(0,m.f3)("$baseMessage"),a=(0,v.sP)(),l=(0,h.m)(),{formType:t}=(0,W.Jk)(l),{createImage:d,setFormData:o,getImageDetailResetParams:n}=l,i=(0,k.yj)();async function s(){n(i.query.image_id,i.query.topic_id)}(0,m.bv)((()=>{l.load(),i.query.topic_id&&s()}));const r=(0,y.qj)({loading:!1,topTab:"form",topTabClicked:!0});function u(){r.topTabClicked=!1}function c(e){return r.topTabClicked||r.topTab==e}async function _(){try{r.loading=!0;const l=await d();l.body.missinId;e(l.msg,"success","vab-hey-message-success"),a.loadData()}catch(l){}finally{r.loading=!1}}return{...(0,y.BK)(r),formType:t,handleTopClick:u,showTopTabPane:c,handleSubmit:_}}});function V(e){e.__source="src/views/stablediffusion/create.vue"}var T=l(83744);"function"===typeof V&&V(x);const C=(0,T.Z)(x,[["render",g],["__scopeId","data-v-66e679b3"]]);var D=C}}]);