/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-01-26 15:38:41
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[3097,8123],{23471:function(t,n,e){e.d(n,{$u:function(){return z},AX:function(){return f},BX:function(){return k},Bs:function(){return $},ET:function(){return Z},Ep:function(){return i},IF:function(){return E},KD:function(){return L},LN:function(){return x},Nq:function(){return q},Pb:function(){return j},QC:function(){return W},RS:function(){return y},SI:function(){return T},U$:function(){return b},Vf:function(){return _},Wz:function(){return c},Xc:function(){return v},Zr:function(){return r},Zt:function(){return P},ak:function(){return S},an:function(){return l},c1:function(){return s},co:function(){return m},cu:function(){return I},dd:function(){return u},e$:function(){return U},m9:function(){return w},mL:function(){return d},oh:function(){return C},sw:function(){return g},t4:function(){return h},vQ:function(){return Y},wW:function(){return D},zB:function(){return B},zw:function(){return p}});var a=e(92325),o=e(11555);function r(t,n){return(0,a.Z)({url:"/wwwapi.php?to=suanli_device",method:"post",params:t,data:n})}function i(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_device&modac=detail",method:"get",params:{client_id:t}})}function u(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_device&modac=guanji",method:"post",data:t})}function c(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_device&modac=advance_setting",method:"post",data:t})}function s(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_device&modac=uninstall",method:"post",data:{client_id:t}})}function d(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_device&modac=reboot",method:"post",data:t})}function p(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_device&modac=delete_ddevice",method:"get",params:{client_id:t}})}function l(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_device&modac=shutdown",method:"post",data:{client_id:t}})}function m(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_image&modac=device_image",method:"get",params:{client_id:t}})}function _(t,n){return(0,a.Z)({url:"/wwwapi.php?to=suanli_image&modac=delete_image",method:"post",data:{client_id:t,image_id:n}})}function f(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=create_container_form",method:"post",data:t})}function w(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=create_container",method:"post",data:t})}function h(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_image&modac=pull_image",method:"post",data:t})}function g(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_image&modac=get_pull_progres",method:"post",data:{image_id:t}})}async function v(t){const{body:{hash:n}}=await(0,o.Gv)();return(0,a.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:n}})}function y(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=device_container",method:"get",params:{client_id:t}})}function Z(t,n){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=container_restart",method:"post",data:{client_id:t,container_id:n}})}function b(t,n){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=container_stop",method:"post",data:{client_id:t,container_id:n}})}function k(t,n){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=delete_container",method:"post",data:{client_id:t,container_id:n}})}function I(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_container&modac=get_create_progres",method:"post",data:{container_id:t}})}function T(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_model&modac=device_model",method:"get",params:{client_id:t}})}function C(){return(0,a.Z)({url:"/wwwapi.php?to=suanli_model&modac=download_form",method:"post"})}function W(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_model&modac=download_model",method:"post",data:t})}function $(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_model&modac=model_apply_form",method:"get",params:{client_id:t}})}function x(t,n){return(0,a.Z)({url:"/wwwapi.php?to=suanli_model&modac=model_apply",method:"post",params:t,data:n})}function z(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_model&modac=model_delete",method:"get",params:{host_model_id:t}})}function U(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_model&modac=get_download_progres",method:"get",data:{model_id:t}})}async function j(t){const{body:{hash:n}}=await(0,o.Gv)();return(0,a.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:n}})}function S(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=device_model",method:"get",params:{client_id:t}})}function D(){return(0,a.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=download_form",method:"post"})}function B(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=download_model",method:"post",data:t})}function E(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=model_apply_form",method:"get",params:{client_id:t}})}function L(t,n){return(0,a.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=model_apply",method:"post",params:t,data:n})}function P(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=model_delete",method:"get",params:{host_model_id:t}})}function Y(t){return(0,a.Z)({url:"/wwwapi.php?to=suanli_dataset&modac=get_download_progres",method:"get",data:{model_id:t}})}async function q(t){const{body:{hash:n}}=await(0,o.Gv)();return(0,a.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:n}})}},81464:function(t,n,e){e.d(n,{Z:function(){return u}});var a=e(81095),o=e(26593);function r(t){a.gp.$baseMessage(`拷贝${t}成功`,"success","vab-hey-message-success",!1)}function i(t){a.gp.$baseMessage(`拷贝${t}失败`,"error","vab-hey-message-success",!1)}function u(t){const{isSupported:n,copy:e}=(0,o.VPI)();n||(0,o.gIw)("clipboard-write"),e(t).then((()=>{r(t)})).catch((n=>{console.log(n),i(t)}))}},61653:function(t,n,e){e.d(n,{E:function(){return u},p:function(){return c}});var a=e(27484),o=e.n(a),r=(e(33852),e(84110)),i=e.n(r);function u(t){return o().locale("zh-cn"),o()(t).fromNow()}function c(t,n="YYYY-MM-DD HH:mm:ss"){return o()(t).format(n)}o().extend(i())},20681:function(t,n,e){e.d(n,{Z:function(){return o}});var a=e(95965);function o(){const{startIntervalTimer:t,stopIntervalTimer:n}=(0,a.Z)();let e,o,r={};function i(a,o,i,u,c,s){const d=a.filter((t=>t[i].showProcess));r={},n(e),0!==d.length&&(e=t((async()=>{const t=d.map((t=>t[o])),{body:{list:n}}=await c(t);let e=!1;for(const a in n){const{stop:t,progress_num:c,progress_text:s}=n[a],d=u.value.find((t=>t[o]===a));d[i].progress_num||(d[i].progress_num=0);const p=parseInt(c);p>d[i].progress_num&&(d[i].progress_num=p,d[i].progress_text=s,r[a]={progress_num:p,progress_text:s}),t&&(e=!0)}e&&s()})))}function u(e,a,i,u,c){const s=e.filter((t=>t[i].time_flash_list));n(o),0!==s.length&&(o=t((async()=>{const{body:t}=await c();for(const n in r){const e=r[n],o=t.find((t=>t[a]===n));o&&Object.assign(o[i],e)}u.value=t;const e=t.filter((t=>t[i].time_flash_list));e.length<=0&&n(o)}),5e3))}function c(){n(e),n(o)}return{startLoadProgress:i,startReloadList:u,stopTimer:c}}},42238:function(t,n,e){e.d(n,{Z:function(){return i}});var a=e(22201),o=e(2262),r=e(66252);function i(t){const n=(0,a.yj)(),e=(0,o.iH)(n.params.id);return(0,r.YP)((()=>n.params.id),(()=>{n.params.id?(e.value=n.params.id,t()):e.value=""})),{paramsId:e}}},95965:function(t,n,e){e.d(n,{Z:function(){return r}});var a=e(23279),o=e.n(a);function r(){function t(t,n=3e3){return setInterval((()=>{t()}),n)}function n(t){t&&clearInterval(t)}function e(t,n=1e4){return setTimeout((()=>{t()}),n)}function a(t,n=3e3){o()((()=>{t()}),n)()}return{startIntervalTimer:t,stopIntervalTimer:n,startTimeoutTimer:e,startDebounce:a}}},48123:function(t,n,e){e.r(n),e.d(n,{default:function(){return s}});var a=e(66252),o=e(2262),r=e(81464),i={__name:"index",props:{text:{type:String,default:""}},setup(t){return(n,e)=>{const i=(0,a.up)("vab-icon");return(0,a.wg)(),(0,a.j4)(i,{icon:"file-copy-2-line",class:"cursor-pointer",onClick:e[0]||(e[0]=n=>(0,o.SU)(r.Z)(t.text))})}}};function u(t){t.__source="src/components/ClipboardButton/index.vue"}"function"===typeof u&&u(i);const c=i;var s=c},83097:function(t,n,e){e.r(n),e.d(n,{default:function(){return k}});var a=e(3837),o=(e(3241),e(81010),e(76128)),r=(e(74828),e(50591)),i=(e(89035),e(15659)),u=(e(10444),e(10661)),c=(e(35095),e(50363),e(66252)),s=e(2262),d=e(3577),p=e(96486),l=e(61653),m=e(48123),_=e(42238),f=e(95965),w=e(23471),h=e(20681);const g={class:"el-progress-action"};var v={__name:"docker_list",setup(t){const{startLoadProgress:n,startReloadList:e,stopTimer:v}=(0,h.Z)(),{startTimeoutTimer:y}=(0,f.Z)(),Z=(0,c.f3)("$baseMessage"),b=(0,c.f3)("$sub"),k=(0,c.f3)("$unsub"),I=(0,s.iH)([]),T=(0,c.Fl)((()=>I.value.map((t=>(t.diff_time=t.ct_add_time?(0,l.E)(1e3*t.ct_add_time):"---",t.cut_ci_name=(0,p.truncate)(t.ct_image_ci_name,{length:35,separator:"..."}),t))))),{paramsId:C}=(0,_.Z)((()=>{W()}));async function W(){const{body:t}=await(0,w.RS)(C.value);I.value=t,n(t,"ct_id","ct_operation_array",I,w.cu,W),e(t,"ct_id","ct_operation_array",I,(()=>(0,w.RS)(C.value)))}async function $(t){await(0,w.ET)(C.value,t),Z("开启容器成功","success","vab-hey-message-success"),y((()=>{W()}))}async function x(t){await(0,w.U$)(C.value,t),Z("停止容器成功","success","vab-hey-message-success"),y((()=>{W()}))}async function z(t){await(0,w.BX)(C.value,t),Z("删除容器成功","success","vab-hey-message-success"),y((()=>{W()}))}return b("reload-docker-list",(()=>{v(),W()})),(0,c.bv)((()=>{W()})),(0,c.Ah)((()=>{v(),k("reload-docker-list")})),(t,n)=>{const e=a.$Y,p=u.Q0,l=(0,c.up)("vab-icon"),_=i.ElButton,f=r.i1,w=o.GT,h=a.eI;return(0,c.wg)(),(0,c.j4)(h,{fit:"",flexible:"",stripe:"","table-layout":"auto",data:(0,s.SU)(T),"row-key":"ct_id",class:"data-list"},{empty:(0,c.w5)((()=>[(0,c.Wm)(w,{class:"vab-data-empty",description:"暂时没有容器容器，请到旁边的镜像列表选择合适的镜像，然后“创建容器”"})])),default:(0,c.w5)((()=>[(0,c.Wm)(e,{label:"容器名称",prop:"ct_name"},{default:(0,c.w5)((({row:t})=>[(0,c.Uk)((0,d.zw)(t.ct_name)+" ",1),(0,c.Wm)((0,s.SU)(m["default"]),{text:t.ct_name},null,8,["text"])])),_:1}),(0,c.Wm)(e,{label:"基于镜像",prop:"ct_image_ci_name"},{default:(0,c.w5)((({row:t})=>[(0,c.Wm)(p,{placement:"top",content:t.ct_image_ci_name},{default:(0,c.w5)((()=>[(0,c.Uk)((0,d.zw)(t.cut_ci_name),1)])),_:2},1032,["content"])])),_:1}),(0,c.Wm)(e,{label:"状态",prop:"ct_use_status_str"},{default:(0,c.w5)((({row:t})=>[(0,c.Uk)((0,d.zw)(t.ct_use_status_str)+" "+(0,d.zw)(t.ct_operate_str)+" ",1),t.ct_hint?((0,c.wg)(),(0,c.j4)(p,{key:0,content:t.ct_hint},{default:(0,c.w5)((()=>[(0,c.Wm)(l,{icon:"error-warning-line",style:(0,d.j5)({color:"var(--el-color-danger)"})},null,8,["style"])])),_:2},1032,["content"])):(0,c.kq)("",!0)])),_:1}),(0,c.Wm)(e,{label:"最后开启",prop:"diff_time"}),(0,c.Wm)(e,{label:"操作",prop:"truedata"},{default:(0,c.w5)((({row:t})=>[(0,c._)("div",g,[t.ct_operation_array.startContainer?((0,c.wg)(),(0,c.j4)(_,{key:0,type:"primary",size:"small",onClick:n=>$(t.ct_id)},{default:(0,c.w5)((()=>[(0,c.Uk)(" 开启 ")])),_:2},1032,["onClick"])):(0,c.kq)("",!0),t.ct_operation_array.stopContainer?((0,c.wg)(),(0,c.j4)(_,{key:1,type:"warning",size:"small",onClick:n=>x(t.ct_id)},{default:(0,c.w5)((()=>[(0,c.Uk)(" 停止 ")])),_:2},1032,["onClick"])):(0,c.kq)("",!0),t.ct_operation_array.delete?((0,c.wg)(),(0,c.j4)(f,{key:2,title:"确定删除此容器吗？",onConfirm:n=>z(t.ct_id)},{reference:(0,c.w5)((()=>[(0,c.Wm)(_,{type:"danger",size:"small"},{default:(0,c.w5)((()=>[(0,c.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"])):(0,c.kq)("",!0)])])),_:1})])),_:1},8,["data"])}}};function y(t){t.__source="src/views/gpumarket/mydevice/components/docker_list.vue"}var Z=e(83744);"function"===typeof y&&y(v);const b=(0,Z.Z)(v,[["__scopeId","data-v-62379163"]]);var k=b}}]);