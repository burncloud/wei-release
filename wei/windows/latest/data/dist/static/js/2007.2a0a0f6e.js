/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-01-22 15:00:16
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[2007],{44904:function(t,e,a){a.d(e,{GT:function(){return c},Nl:function(){return u},Pb:function(){return p},_S:function(){return s},_c:function(){return d},fZ:function(){return i},nD:function(){return r}});var n=a(96486),o=a(92325),l=a(11555);function i(t){const e=(0,n.pickBy)(t,(t=>""!==t));return(0,o.Z)({url:"/wwwapi.php?to=suanli_market_model&filter=typeid",method:"get",params:e})}async function r(t,e){return(0,l.Gv)().then((({body:{hash:a}})=>{const l={formhash:a,searchoption:{[e.inputId]:{value:e.keyword}},searchsortsubmit:""},i=(0,n.pickBy)(t,(t=>""!==t));return(0,o.Z)({url:"/wwwapi.php?to=suanli_market_model&filter=sortid",method:"post",params:i,data:l})}))}function u(t){return(0,o.Z)({url:"/wwwapi.php?to=postFavlist&thread_forum=suanli_model",method:"get",params:t})}function c(){return(0,o.Z)({url:"/wwwapi.php?to=suanli_market&modac=model_down_form",method:"get"})}function s(t){return(0,o.Z)({url:"/wwwapi.php?to=suanli_market&modac=download_model",method:"post",data:t})}async function d(t){const{body:{hash:e}}=await(0,l.Gv)();return(0,o.Z)({url:"/wwwapi.php?to=postFavAdd",method:"get",params:{id:t,formhash:e}})}async function p(t){const{body:{hash:e}}=await(0,l.Gv)();return(0,o.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:e}})}},49527:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var n=a(66252),o=a(3577),l=a(2262);const i={class:"box"};var r={__name:"index",props:{icon:{type:String,default:""},size:{type:String,default:""},text:{type:[Number,String],default:""},color:{type:String,default:""}},setup(t){const e=t,a=(0,n.Fl)((()=>{const t={fontSize:e.size};return e.color&&(t.color=e.color),t}));return(e,r)=>{const u=(0,n.up)("vab-icon");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(u,{icon:t.icon,style:(0,o.j5)((0,l.SU)(a)),class:"icon"},null,8,["icon","style"]),(0,n._)("span",{style:(0,o.j5)((0,l.SU)(a))},(0,o.zw)(t.text),5)])}}};function u(t){t.__source="src/components/IconText/index.vue"}var c=a(83744);"function"===typeof u&&u(r);const s=(0,c.Z)(r,[["__scopeId","data-v-55dcc2f6"]]);var d=s},50668:function(t,e,a){a.r(e),a.d(e,{default:function(){return s}});var n=a(10661),o=(a(3241),a(35095),a(66252)),l=a(2262),i=a(49527),r={__name:"tooltip",props:{tip:{type:String,default:""}},emits:["icon-click"],setup(t,{emit:e}){return(e,a)=>{const r=n.Q0;return(0,o.wg)(),(0,o.j4)(r,{effect:"dark",content:t.tip,placement:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)((0,l.SU)(i["default"]),(0,o.dG)(e.$attrs,{onClick:a[0]||(a[0]=t=>e.$emit("icon-click"))}),null,16)])),_:1},8,["content"])}}};function u(t){t.__source="src/components/IconText/tooltip.vue"}"function"===typeof u&&u(r);const c=r;var s=c},91906:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var n=a(15659),o=(a(3241),a(10444),a(20129)),l=(a(69840),a(6589),a(10661)),i=(a(35095),a(47820)),r=(a(50986),a(61715),a(57658),a(66252)),u=a(2262),c=a(86136),s=a(44904);const d={client_id:[{required:!0,message:"请选择设备",trigger:"change"}]};var p=a(22201);const f={class:"comprehensive-form-container"};var m={__name:"create_dialog",setup(t,{expose:e}){const a=(0,p.tv)(),m=(0,u.iH)(!1),_=(0,u.iH)([]),w=(0,u.iH)([]),v=(0,u.iH)(),h=()=>({client_id:"",to_device_to_container:"to_host",container_id:"",model_thread_id:""}),g=(0,u.iH)({...h()}),k=(0,u.iH)({...d});function y(t){m.value=!0,g.value={...h(),model_thread_id:t},b(),(0,r.Y3)((()=>{v.value.clearValidate()}))}async function b(){const{body:{hosts:t}}=await(0,s.GT)();_.value=t||[],w.value=[]}function W(t){const e=_.value.find((e=>e.host_id===t));w.value=e?e.containers:[]}function x(t){g.value.to_device_to_container=t>0?"to_container":"to_host"}async function U(){await v.value.validate((async(t,e)=>{if(!t)return!1;await(0,s._S)(g.value),m.value=!1,a.push({name:"DeviceDetail",params:{id:g.value.client_id},query:{tab:"model-list"}})}))}return e({showDialog:y}),(t,e)=>{const a=i.BT,s=i.km,d=(0,r.up)("vab-icon"),p=l.Q0,h=o.nH,y=o.ly,b=n.ElButton;return(0,r.wg)(),(0,r.iD)("div",f,[(0,r.Wm)((0,u.SU)(c["default"]),{modelValue:(0,u.SU)(m),"onUpdate:modelValue":e[3]||(e[3]=t=>(0,u.dq)(m)?m.value=t:null),title:"模型下载",width:"600px"},{footer:(0,r.w5)((()=>[(0,r.Wm)(b,{onClick:e[2]||(e[2]=t=>m.value=!1)},{default:(0,r.w5)((()=>[(0,r.Uk)("取 消")])),_:1}),(0,r.Wm)(b,{type:"primary",onClick:U},{default:(0,r.w5)((()=>[(0,r.Uk)(" 确 定 ")])),_:1})])),default:(0,r.w5)((()=>[(0,r.Wm)(y,{ref_key:"formRef",ref:v,class:"demo-form",model:(0,u.SU)(g),rules:(0,u.SU)(k),"label-width":"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(h,{label:"下载到设备",prop:"client_id",class:"flex"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:(0,u.SU)(g).client_id,"onUpdate:modelValue":e[0]||(e[0]=t=>(0,u.SU)(g).client_id=t),filterable:"",placeholder:"从“我的设备”里选择",class:"contianer-name flex-1",onChange:W},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,u.SU)(_),(t=>((0,r.wg)(),(0,r.j4)(a,{key:t.host_id,label:t.host_name||"未命名",value:t.host_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,r.Wm)(p,{effect:"dark",content:"模型将下载到选中设备中，统一保存在本软件安装目录的model路径下",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{icon:"question-line",class:"cursor-pointer ml-2"})])),_:1})])),_:1}),(0,r.Wm)(h,{label:"应用到容器",class:"flex"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:(0,u.SU)(g).container_id,"onUpdate:modelValue":e[1]||(e[1]=t=>(0,u.SU)(g).container_id=t),filterable:"",placeholder:"从“我的容器”里选择",class:"contianer-name flex-1",onChange:x},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,u.SU)(w),(t=>((0,r.wg)(),(0,r.j4)(a,{key:t.ct_id,label:t.ct_name,value:t.ct_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,r.Wm)(p,{effect:"dark",content:"模型将下载到选中容器中，统一保存在容器的/root/model/目录下",placement:"top"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{icon:"question-line",class:"cursor-pointer ml-2"})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}};function _(t){t.__source="src/views/gpumarket/models/components/create_dialog.vue"}var w=a(83744);"function"===typeof _&&_(m);const v=(0,w.Z)(m,[["__scopeId","data-v-359fa42a"]]);var h=v},32007:function(t,e,a){a.r(e),a.d(e,{default:function(){return U}});var n=a(27750),o=a(49676),l=(a(3241),a(73204),a(91194)),i=(a(2993),a(32590),a(77669)),r=(a(95774),a(15659)),u=(a(10444),a(86398)),c=(a(69448),a(66252)),s=a(3577),d=a(2262),p=a(50668),f=a(91906),m=a(44904);const _={class:"description-container"},w={class:"icon-wrapper"},v={class:"icon-wrapper"},h={class:"icon-wrapper"},g={class:"icon-wrapper"},k={class:"icon-wrapper"};var y={__name:"host_table",props:{tableData:{type:Array,default:()=>[]},pagination:{type:Object,default:()=>{}},page:{type:Number,default:1}},emits:["change-page","reload"],setup(t,{emit:e}){const a=(0,d.iH)(null),y=t=>{a.value.showDialog(t)};function b(t){e("change-page",t)}async function W(t){await(0,m._c)(t),e("reload")}async function x(t){await(0,m.Pb)(t),e("reload")}return(e,m)=>{const U=(0,c.up)("router-link"),S=u.gi,D=r.ElButton,z=i.vs,C=l.QQ,j=l.Lf,Z=o.R,H=n.Z;return(0,c.wg)(),(0,c.iD)("div",_,[t.tableData.length?((0,c.wg)(),(0,c.j4)(H,{key:0,shadow:"hover"},{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(t.tableData,(t=>((0,c.wg)(),(0,c.j4)(j,{key:t.tid,column:1,size:"small",class:"custom-descriptions"},{title:(0,c.w5)((()=>[(0,c.Wm)(U,{to:`/gpumarket/model/${t.tid}`,class:"marginright"},{default:(0,c.w5)((()=>[(0,c.Uk)((0,s.zw)(t.subject),1)])),_:2},1032,["to"]),(0,c.Wm)(S,null,{default:(0,c.w5)((()=>[(0,c.Uk)((0,s.zw)(t.threadsortshow.optionlist.model_star.value),1)])),_:2},1024)])),extra:(0,c.w5)((()=>[(0,c.Wm)(D,{type:"primary",onClick:e=>y(t.tid)},{default:(0,c.w5)((()=>[(0,c.Uk)(" 下载 ")])),_:2},1032,["onClick"])])),default:(0,c.w5)((()=>[(0,c.Wm)(C,null,{default:(0,c.w5)((()=>[(0,c._)("div",w,[(0,c.Wm)(U,{to:t.author_route,class:"flex"},{default:(0,c.w5)((()=>[(0,c.Wm)(z,{size:"small",src:t.authoravatar,class:"marginright"},null,8,["src"]),(0,c.Wm)(S,{class:"marginright"},{default:(0,c.w5)((()=>[(0,c.Uk)((0,s.zw)(t.author),1)])),_:2},1024)])),_:2},1032,["to"]),(0,c.Wm)(S,{class:"marginright"},{default:(0,c.w5)((()=>[(0,c.Uk)("| "+(0,s.zw)(t.diff_date)+"更新",1)])),_:2},1024)])])),_:2},1024),(0,c.Wm)(C,null,{default:(0,c.w5)((()=>[(0,c.Wm)(S,{class:"mx-1"},{default:(0,c.w5)((()=>[(0,c.Uk)((0,s.zw)(t.message),1)])),_:2},1024)])),_:2},1024),(0,c.Wm)(C,null,{default:(0,c.w5)((()=>[(0,c._)("div",v,[t.favid?((0,c.wg)(),(0,c.j4)(p["default"],{key:0,icon:"star-fill",color:"var(--has-collected-color)",text:t.favtimes,tip:"取消收藏",class:"cursor-pointer",onClick:e=>x(t.favid)},null,8,["text","onClick"])):((0,c.wg)(),(0,c.j4)(p["default"],{key:1,icon:"star-line",text:t.favtimes,tip:"收藏",class:"cursor-pointer",onClick:e=>W(t.tid)},null,8,["text","onClick"]))]),(0,c._)("div",h,[(0,c.Wm)(p["default"],{icon:"download-2-line",text:t.threadsortshow.optionlist.model_download.value,tip:"下载"},null,8,["text"])]),(0,c._)("div",g,[(0,c.Wm)(p["default"],{icon:"database-2-line",text:t.replies,tip:"评论"},null,8,["text"])]),(0,c._)("div",k,[(0,c.Wm)(p["default"],{icon:"database-2-line",text:t.threadsortshow.optionlist.model_size.value,tip:"大小"},null,8,["text"])])])),_:2},1024)])),_:2},1024)))),128)),(0,c.Wm)(Z,{"current-page":t.page,layout:"prev, pager, next","page-size":t.pagination.pageSize,total:t.pagination.total,onCurrentChange:b},null,8,["current-page","page-size","total"])])),_:1})):((0,c.wg)(),(0,c.j4)(H,{key:1,shadow:"hover"},{default:(0,c.w5)((()=>[(0,c.Uk)("暂无模型记录")])),_:1})),(0,c.Wm)((0,d.SU)(f["default"]),{ref_key:"createDialogRef",ref:a},null,512)])}}};function b(t){t.__source="src/views/gpumarket/models/components/host_table.vue"}var W=a(83744);"function"===typeof b&&b(y);const x=(0,W.Z)(y,[["__scopeId","data-v-b55143b0"]]);var U=x}}]);