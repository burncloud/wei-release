/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-01-23 10:23:14
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[3019,8123,689],{81464:function(t,e,a){a.d(e,{Z:function(){return c}});var n=a(81095),o=a(26593);function s(t){n.gp.$baseMessage(`拷贝${t}成功`,"success","vab-hey-message-success",!1)}function r(t){n.gp.$baseMessage(`拷贝${t}失败`,"error","vab-hey-message-success",!1)}function c(t){const{isSupported:e,copy:a}=(0,o.VPI)();e||(0,o.gIw)("clipboard-write"),a(t).then((()=>{s(t)})).catch((e=>{console.log(e),r(t)}))}},95965:function(t,e,a){a.d(e,{Z:function(){return s}});var n=a(23279),o=a.n(n);function s(){function t(t,e=3e3){return setInterval((()=>{t()}),e)}function e(t){t&&clearInterval(t)}function a(t,e=1e4){return setTimeout((()=>{t()}),e)}function n(t,e=3e3){o()((()=>{t()}),e)()}return{startIntervalTimer:t,stopIntervalTimer:e,startTimeoutTimer:a,startDebounce:n}}},48123:function(t,e,a){a.r(e),a.d(e,{default:function(){return l}});var n=a(66252),o=a(2262),s=a(81464),r={__name:"index",props:{text:{type:String,default:""}},setup(t){return(e,a)=>{const r=(0,n.up)("vab-icon");return(0,n.wg)(),(0,n.j4)(r,{icon:"file-copy-2-line",class:"cursor-pointer",onClick:a[0]||(a[0]=e=>(0,o.SU)(s.Z)(t.text))})}}};function c(t){t.__source="src/components/ClipboardButton/index.vue"}"function"===typeof c&&c(r);const i=r;var l=i},28068:function(t,e,a){a.r(e),a.d(e,{default:function(){return z}});var n=a(49676),o=(a(3241),a(73204),a(3837)),s=(a(81010),a(76128)),r=(a(74828),a(50591)),c=(a(89035),a(15659)),i=(a(10444),a(32018)),l=(a(46160),a(10661)),u=(a(35095),a(50363),a(66252)),_=a(3577),p=a(2262),m=a(48123),d=a(16800),f=a(95965),g=a(23471);const w={m:"4"},y={m:"t-0 b-2"},k={m:"t-0 b-2"},b={m:"t-0 b-2"},h={class:"el-progress-action"};var v={__name:"docker_list",props:{tableData:{type:Array,default:()=>[]},pagination:{type:Object,default:()=>{}},page:{type:Number,default:1}},emits:["change-page","reload"],setup(t,{emit:e}){const a=(0,u.f3)("$baseMessage"),{startTimeoutTimer:v}=(0,f.Z)();function U(t){e("change-page",t)}const C=(0,p.iH)();async function W(t){C.value.showDialog(t)}async function z(t,n){await(0,g.ET)(t,n),a("开启容器成功","success","vab-hey-message-success"),v((()=>{e("reload")}))}async function x(t,n){await(0,g.U$)(t,n),a("停止容器成功","success","vab-hey-message-success"),v((()=>{e("reload")}))}async function I(t,n){await(0,g.BX)(t,n),a("删除容器成功","success","vab-hey-message-success"),v((()=>{e("reload")}))}return(e,a)=>{const f=o.$Y,g=l.Q0,v=i.Xh,T=c.ElButton,j=r.i1,D=s.GT,S=o.eI,$=n.R;return(0,u.wg)(),(0,u.iD)("div",null,[(0,u.Wm)(S,{fit:"",flexible:"",stripe:"","table-layout":"auto",data:t.tableData,"row-key":"ct_id",class:"data-list"},{empty:(0,u.w5)((()=>[(0,u.Wm)(D,{class:"vab-data-empty",description:"暂无容器，请到“算力市场”选择主机创建容器"})])),default:(0,u.w5)((()=>[(0,u.Wm)(f,{type:"expand",fixed:""},{default:(0,u.w5)((({row:t})=>[(0,u._)("div",w,[(0,u._)("p",y," GPU："+(0,_.zw)(t.ct_host_gpu_name)+" * "+(0,_.zw)(t.ct_gpu_count),1),(0,u._)("p",k,"CPU："+(0,_.zw)(t.ct_host_cpu_name)+" * 1",1),(0,u._)("p",b,"硬盘："+(0,_.zw)(t.ct_host_disk_type_str),1)])])),_:1}),(0,u.Wm)(f,{label:"主机UUID",prop:"ct_host_name",sortable:""},{default:(0,u.w5)((({row:t})=>[(0,u.Wm)(g,{effect:"dark",content:t.ct_host_name,placement:"top"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,_.zw)(t.format_ct_host_name),1)])),_:2},1032,["content"]),(0,u.Wm)((0,p.SU)(m["default"]),{text:t.ct_host_name},null,8,["text"])])),_:1}),(0,u.Wm)(f,{label:"容器名称",prop:"ct_name"},{default:(0,u.w5)((({row:t})=>[(0,u.Uk)((0,_.zw)(t.ct_name)+" ",1),(0,u.Wm)((0,p.SU)(m["default"]),{text:t.ct_name},null,8,["text"])])),_:1}),(0,u.Wm)(f,{label:"基于镜像",prop:"ct_image_ci_name",sortable:""},{default:(0,u.w5)((({row:t})=>[(0,u.Wm)(g,{effect:"dark",content:t.ct_image_ci_name,placement:"top"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,_.zw)(t.format_ct_image_ci_name),1)])),_:2},1032,["content"]),(0,u.Wm)((0,p.SU)(m["default"]),{text:t.ct_image_ci_name},null,8,["text"])])),_:1}),(0,u.Wm)(f,{label:"状态",prop:"ct_use_status_str"}),(0,u.Wm)(f,{label:"主机",prop:"ct_host_status_str"}),(0,u.Wm)(f,{label:"操作",prop:"truedata"},{default:(0,u.w5)((({row:t})=>[(0,u._)("div",h,[t.ct_operation_array.showProcess?((0,u.wg)(),(0,u.j4)(v,{key:0,"text-inside":!0,"stroke-width":20,percentage:t.ct_operation_array.progress_num,striped:"",size:"small"},null,8,["percentage"])):((0,u.wg)(),(0,u.iD)(u.HY,{key:1},[t.ct_operation_array.download_model?((0,u.wg)(),(0,u.j4)(T,{key:0,type:"primary",size:"small",onClick:e=>W(t.ct_host_id)},{default:(0,u.w5)((()=>[(0,u.Uk)(" 下载模型 ")])),_:2},1032,["onClick"])):(0,u.kq)("",!0),t.ct_operation_array.download_dataset?((0,u.wg)(),(0,u.j4)(T,{key:1,type:"primary",size:"small"},{default:(0,u.w5)((()=>[(0,u.Uk)(" 数据集 ")])),_:1})):(0,u.kq)("",!0),t.ct_operation_array.startContainer?((0,u.wg)(),(0,u.j4)(T,{key:2,type:"primary",size:"small",onClick:e=>z(t.ct_host_id,t.ct_id)},{default:(0,u.w5)((()=>[(0,u.Uk)(" 开启 ")])),_:2},1032,["onClick"])):(0,u.kq)("",!0),t.ct_operation_array.stopContainer?((0,u.wg)(),(0,u.j4)(T,{key:3,type:"warning",size:"small",onClick:e=>x(t.ct_host_id,t.ct_id)},{default:(0,u.w5)((()=>[(0,u.Uk)(" 停止 ")])),_:2},1032,["onClick"])):(0,u.kq)("",!0)],64)),t.ct_operation_array.delete?((0,u.wg)(),(0,u.j4)(j,{key:2,title:"确定删除此容器吗？",onConfirm:e=>I(t.ct_host_id,t.ct_id)},{reference:(0,u.w5)((()=>[(0,u.Wm)(T,{type:"danger",size:"small"},{default:(0,u.w5)((()=>[(0,u.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"])):(0,u.kq)("",!0)])])),_:1})])),_:1},8,["data"]),(0,u.Wm)((0,p.SU)(d["default"]),{ref_key:"downloadModelDialogRef",ref:C},null,512),(0,u.Wm)($,{"current-page":t.page,layout:"prev, pager, next","page-size":t.pagination.pageSize,total:t.pagination.total,onCurrentChange:U},null,8,["current-page","page-size","total"])])}}};function U(t){t.__source="src/views/gpumarket/myhosts/components/docker_list.vue"}var C=a(83744);"function"===typeof U&&U(v);const W=(0,C.Z)(v,[["__scopeId","data-v-71454d78"]]);var z=W}}]);