/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-11-06 12:25:27
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[5346,5779,8666,7465],{7977:function(e,t,a){a.d(t,{gp:function(){return o}});var r=a(13517);function o(e){return(0,r.Z)({url:"/area/getList",method:"get",params:e})}},19347:function(e,t,a){a.d(t,{ci:function(){return l},h:function(){return o},lX:function(){return i},lx:function(){return n},yv:function(){return d}});var r=a(13517);function o(){return(0,r.Z)({url:"/wwwapi.php?to=chongzhi",method:"get"})}function n(e){return(0,r.Z)({url:"/wwwapi.php?to=chongzhi&p=my",method:"get",params:e})}function l(e){return(0,r.Z)({url:"/wwwapi.php?to=usercp&ac=credit&op=log",method:"get",params:e})}function i(e){return(0,r.Z)({url:"/wwwapi.php?to=chongzhiPay",method:"get",params:e})}function d(e){return(0,r.Z)({url:"/wwwapi.php?to=chongzhi&p=checkorder",method:"get",params:e})}},23051:function(e,t,a){a.d(t,{NQ:function(){return n},UF:function(){return d},az:function(){return l},dw:function(){return i},oU:function(){return o}});var r=a(66443);const o={mobile:[{required:!0,trigger:"blur",validator:(e,t,a)=>{""===t?a(new Error("手机号码不能为空")):a()}},{trigger:"blur",validator(e,t,a){return(0,r.Mn)(t)},message:"手机号码格式错误"}],passwd:[{required:!0,trigger:"blur",validator:(e,t,a)=>{(0,r.L6)(t)?a():a(new Error("密码不能少于6位"))}}],seccodeverify:{required:!0,trigger:"blur",message:"验证码不能空"}},n={mobile:[{required:!0,message:"手机号码必填",trigger:"blur"},{trigger:"blur",validator(e,t,a){return(0,r.Mn)(t)},message:"手机号码格式错误"}],seccodeverify:{required:!0,trigger:"blur",message:"验证码不能空"},smscode:{required:!0,trigger:"blur",message:"手机验证码必填"}},l={realname:[{required:!0,message:"真实姓名必填",trigger:"change"},{validator(e,t,a){return(0,r.Ur)(t)},message:"姓名必须是中文",trigger:"change"}],idcard:[{required:!0,message:"身份证必填",trigger:"change"},{validator(e,t,a){return(0,r.tR)(t)},message:"身份证格式错误",trigger:"change"}]},i={newpassword:[{required:!0,trigger:"blur",message:"新密码不能少于6位",validator:(e,t,a)=>(0,r.L6)(t)}]},d={password:[{required:!0,trigger:"blur",message:"密码不能为空！"}]}},55779:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var r=a(73481),o=(a(3241),a(62029),a(20129)),n=(a(69840),a(6589),a(57018)),l=(a(74367),a(66263)),i=(a(33790),a(3837)),d=(a(81010),a(15659)),m=(a(10444),a(31040)),u=(a(86709),a(14132)),s=(a(50986),a(61715),a(50363),a(66252)),c=a(3577),f=a(49963);const p={class:"dialog-footer"};function g(e,t,a,g,_,w){const h=i.$Y,b=u.BT,v=u.ElSelect,y=m.d6,W=d.ElButton,V=i.eI,x=l.v,U=n.EZ,k=o.nH,D=o.ly,C=r.d0;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(V,{data:e.formOptionList,style:{width:"100%","margin-bottom":"20px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{prop:"from_name",label:"积分类型"}),(0,s.Wm)(h,{prop:"from_max_credits",label:"积分数量"}),(0,s.Wm)(h,{prop:"",label:"兑换的目标积分类型",width:"190"},{default:(0,s.w5)((({row:t})=>[(0,s.Wm)(v,{modelValue:t.to_credit_id,"onUpdate:modelValue":e=>t.to_credit_id=e,placeholder:"请选择",onChange:a=>e.changeCreditRate(t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.rates,(e=>((0,s.wg)(),(0,s.j4)(b,{key:e.credit_id,label:e.title,value:e.credit_id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.title),1)])),_:2},1032,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,s.Wm)(h,{prop:"",label:"兑出数量",width:"180"},{default:(0,s.w5)((({row:t})=>[(0,s.Wm)(y,{modelValue:t.from_credits,"onUpdate:modelValue":e=>t.from_credits=e,step:1,min:0,max:t.from_max_credits,onChange:a=>e.changeCreditRate(t)},null,8,["modelValue","onUpdate:modelValue","max","onChange"])])),_:1}),(0,s.Wm)(h,{prop:"to_credits",label:"得到目标积分",width:"130"}),(0,s.Wm)(h,{prop:"",label:"操作"},{default:(0,s.w5)((({row:t})=>[(0,s.Wm)(W,{size:"small",type:"primary",disabled:0==t.from_credits,onClick:a=>e.exchangeCreditPrompt(t)},{default:(0,s.w5)((()=>[(0,s.Uk)(" 兑换 ")])),_:2},1032,["disabled","onClick"])])),_:1})])),_:1},8,["data"]),(0,s.Wm)(x,{closable:!1,"show-icon":"",title:"积分兑换在兑换完成后，具有不可逆的性质，兑换前请慎重选择兑入的积分类型。如果选错兑入积分类型导致自身权益损失，平台将不会作出任何补偿或赔偿",type:"info"}),(0,s.Wm)(C,{modelValue:e.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dialogVisible=t),title:"操作提示",width:"30%","close-on-click-modal":!1},{footer:(0,s.w5)((()=>[(0,s._)("span",p,[(0,s.Wm)(W,{onClick:e.hiddenDialog},{default:(0,s.w5)((()=>[(0,s.Uk)("取消")])),_:1},8,["onClick"]),(0,s.Wm)(W,{loading:e.loading,type:"primary",onClick:e.exchangeCreditFormValid,onKeyup:(0,f.D2)(e.exchangeCreditFormValid,["enter"])},{default:(0,s.w5)((()=>[(0,s.Uk)(" 确定 ")])),_:1},8,["loading","onClick","onKeyup"])])])),default:(0,s.w5)((()=>[(0,s.Wm)(D,{ref:"formRef","label-position":"top",rules:e.rules,model:e.formData},{default:(0,s.w5)((()=>[(0,s._)("h3",null,(0,c.zw)(e.dialogTips),1),(0,s.Wm)(k,{label:"积分兑换需要提供密码，请输入密码",prop:"password"},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{modelValue:e.formData.password,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData.password=t),type:"password"},null,8,["modelValue"])])),_:1})])),_:1},8,["rules","model"])])),_:1},8,["modelValue"])],64)}var _=a(13517),w=a(11555);function h(){return(0,_.Z)({url:"/wwwapi.php?to=usercp&ac=credit&op=exchange",method:"get"})}async function b(e){const{body:{hash:t}}=await(0,w.Gv)();return(0,_.Z)({url:"/wwwapi.php?to=usercp&ac=credit&op=exchange",method:"post",data:{formhash:t,operation:"exchange",exchangesubmit:"true",outi:0,...e}})}var v=a(23051),y=a(90482);function W(...e){let t=new y.Z(e[0]);for(let a=1;a<e.length;a++)t=t.mul(new y.Z(e[a]));return t.toNumber()}var V={mul:W},x=a(2262),U=(0,s.aZ)({name:"Watermark",setup(){const e=(0,s.f3)("$baseMessage");(0,s.bv)((()=>{r()}));const t=(0,x.qj)({formData:{exchangeamount:0,tocredits:0,fromcredits:0,password:""},formTempData:{from_name:"",from_credits:0,to_name:"",to_credits:0},formOptionList:[],rules:v.UF,formRef:null,dialogVisible:!1,loading:!1});function a(e){return e.map((e=>{const t=e.t.map((e=>({credit_id:e.t,rate:parseFloat(e.rate),name:e.name,title:`${e.name}---兑率 ${e.rate}`}))),a=parseInt(e.score),r=e.to_credit_id??t[0].credit_id,o=t.find((e=>e.credit_id==r)),n=o?V.mul(a,o.rate):0;return{from_credit_id:e.f,from_name:e.name,from_credits:a,from_max_credits:a,to_credit_id:r,to_name:o?o.name:"",to_credits:n,rates:t}}))}async function r(){const{body:e}=await h();t.formOptionList=a(Object.values(e))}async function o(e){const t=e.rates.find((t=>t.credit_id==e.to_credit_id));let a=e.from_credits;a>e.from_max_credits&&(a=e.from_max_credits),e.to_credits=t?V.mul(a,t.rate):0,e.to_name=t?t.name:""}async function n(){const{body:e}=await h(),a=Object.values(e);t.formOptionList.map((e=>{const t=a.find((t=>t.f==e.from_credit_id));t&&(e.from_max_credits=parseInt(t.score),e.from_credits>e.from_max_credits&&(e.from_credits=e.from_max_credits,o(e)))}))}async function l(){try{t.loading=!0;const a=await b(t.formData);e(a.msg,"success","vab-hey-message-success"),n()}catch(a){}finally{t.formData.password="",t.loading=!1,t.dialogVisible=!1}}async function i(e){t.dialogVisible=!0,t.formTempData.from_credits=e.from_credits,t.formTempData.from_name=e.from_name,t.formTempData.to_credits=e.to_credits,t.formTempData.to_name=e.to_name,t.formData.exchangeamount=e.to_credits,t.formData.tocredits=e.to_credit_id,t.formData.fromcredits=e.from_credit_id}function d(){t["formRef"].validate((async e=>{e&&l()}))}function m(){t.formData.password="",t.loading=!1,t.dialogVisible=!1}return t.dialogTips=(0,s.Fl)((()=>`${t.formTempData.from_name} ${t.formTempData.from_credits} 兑换 ${t.formTempData.to_name} ${t.formTempData.to_credits}`)),{...(0,x.BK)(t),changeCreditRate:o,exchangeCreditPrompt:i,exchangeCreditFormValid:d,hiddenDialog:m}}});function k(e){e.__source="src/views/setting/tixian/components/formDuihuan.vue"}var D=a(83744);"function"===typeof k&&k(U);const C=(0,D.Z)(U,[["render",g]]);var q=C},78666:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var r=a(66263),o=(a(3241),a(33790),a(20129)),n=(a(69840),a(15659)),l=(a(10444),a(57018)),i=(a(74367),a(6589),a(87692)),d=(a(45393),a(22411),a(66252));const m=e=>((0,d.dD)("data-v-0bc74adc"),e=e(),(0,d.Cn)(),e),u=m((()=>(0,d._)("div",{class:"content clearfix"},[(0,d._)("span",{class:"nowcredit"},[(0,d._)("b",{class:"czred"},"30000"),(0,d.Uk)(" 元 ")]),(0,d._)("span",{class:"nowcredit"},"最低需要100元才提现")],-1))),s=m((()=>(0,d._)("div",null,[(0,d.Uk)(" 转账支持：支付转账，银行卡转账，微信手机号收款转账，请务必填正确收款的户名和账号。如果是银行卡收款的，必须填写收款的银行名称。 "),(0,d._)("br"),(0,d.Uk)(" 出于安全的考虑，只要第一笔提现成功，以后的提现都使用同一个收款方式和收款账号，不可以修改，请慎重考虑使用账号类型和提现账号。 ")],-1)));function c(e,t,a,m,c,f){const p=i.dn,g=i.KD,_=o.nH,w=l.EZ,h=n.ElButton,b=o.ly,v=r.v;return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d.Wm)(b,{ref:"formRef",class:"demo-form","label-width":"100px",model:e.form,rules:e.rules},{default:(0,d.w5)((()=>[(0,d.Wm)(_,{label:"账号类型"},{default:(0,d.w5)((()=>[(0,d.Wm)(g,{modelValue:e.form.tixianmethod,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.tixianmethod=t)},{default:(0,d.w5)((()=>[(0,d.Wm)(p,{label:"left"},{default:(0,d.w5)((()=>[(0,d.Uk)("支付宝")])),_:1}),(0,d.Wm)(p,{label:"middle"},{default:(0,d.w5)((()=>[(0,d.Uk)("微信")])),_:1}),(0,d.Wm)(p,{label:"right"},{default:(0,d.w5)((()=>[(0,d.Uk)("银行卡")])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,d.Wm)(_,{label:"收款方户名",prop:"name"},{default:(0,d.w5)((()=>[(0,d.Wm)(w,{modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.name=t),class:"money-input-width"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(_,{label:"收款方账号",prop:"region"},{default:(0,d.w5)((()=>[(0,d.Wm)(w,{modelValue:e.form.region,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.region=t),class:"money-input-width"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(_,{label:"收款方银行"},{default:(0,d.w5)((()=>[(0,d.Wm)(w,{modelValue:e.form.bank,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.bank=t),class:"money-input-width"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(_,{label:"可提现金额"},{default:(0,d.w5)((()=>[u])),_:1}),(0,d.Wm)(_,{label:"提现金额",prop:"rate"},{default:(0,d.w5)((()=>[(0,d.Wm)(w,{modelValue:e.form.rate,"onUpdate:modelValue":t[4]||(t[4]=t=>e.form.rate=t),oninput:"value=value.replace(/^\\.+|[^\\d.]/g,'')",class:"money-input-width"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(_,{label:" "},{default:(0,d.w5)((()=>[(0,d.Wm)(h,{type:"primary",onClick:t[5]||(t[5]=t=>e.submitForm("formRef"))},{default:(0,d.w5)((()=>[(0,d.Uk)(" 申请提现 ")])),_:1})])),_:1})])),_:1},8,["model","rules"]),(0,d.Wm)(v,{closable:!1,"show-icon":"",type:"info"},{default:(0,d.w5)((()=>[s])),_:1})],64)}a(7977);var f=a(2262),p=(0,d.aZ)({name:"ComprehensiveForm",setup(){const e=(0,f.qj)({formRef:null,form:{tixianmethod:"left",name:"姓名/企业名",region:"支付宝邮箱/银行卡账号/微信绑定的手机号",bank:"银行卡账号收款必须填银行名称",rate:100},areaOptions:[],rules:{name:[{required:!0,message:"收款方的姓名必须填写，企业用户请填写公账开户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],region:[{required:!0,message:"支付宝账号，银行卡账号，微信收款的请填写微信绑定的手机号",trigger:"blur"}],rate:[{required:!0,message:"兑换金额必须符合最低提现金额的要求",trigger:"blur"}]}}),t=t=>{e[t].validate((e=>{e?alert("submit!"):console.log("error submit!!")}))},a=t=>{e[t].resetFields()};return{...(0,f.BK)(e),submitForm:t,resetForm:a}}});function g(e){e.__source="src/views/setting/tixian/components/formTixian.vue"}var _=a(83744);"function"===typeof g&&g(p);const w=(0,_.Z)(p,[["render",c],["__scopeId","data-v-0bc74adc"]]);var h=w},87465:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var r=a(49676),o=(a(3241),a(73204),a(3837)),n=(a(81010),a(76128)),l=(a(74828),a(15659)),i=(a(10444),a(50363),a(66252)),d=a(2262),m=a(19347),u={__name:"logsDuihuan",setup(e){const t=(0,i.f3)("$sub"),a=(0,i.f3)("$unsub"),u=(0,d.qj)({list:[],page:1,pageSize:1,total:1});(0,i.bv)((()=>{c()}));const s=(0,i.Fl)((()=>u.list.map((e=>(e.desc=`${e.cradit} ${e.creditTitle}`,e.ops="",e)))));async function c(){const{body:{list:e,page_perpage:t,page_allcount:a}}=await(0,m.lx)({page:u.page});u.list=e,u.pageSize=parseInt(t),u.total=parseInt(a)}return t("load-payment-logs",(()=>{c()})),(0,i.Ah)((()=>{a("load-payment-logs")})),(e,t)=>{const a=o.$Y,m=l.ElButton,f=n.GT,p=o.eI,g=r.R;return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(p,{border:!0,data:(0,d.SU)(s)},{empty:(0,i.w5)((()=>[(0,i.Wm)(f,{class:"vab-data-empty",description:"暂无数据"})])),default:(0,i.w5)((()=>[(0,i.Wm)(a,{align:"center","show-overflow-tooltip":"",prop:"orderid",label:"提现单号"}),(0,i.Wm)(a,{align:"center","show-overflow-tooltip":"",prop:"money",label:"金额 (CNY)"}),(0,i.Wm)(a,{align:"center","show-overflow-tooltip":"",prop:"paytime",label:"申请日期"}),(0,i.Wm)(a,{align:"center","show-overflow-tooltip":"",prop:"paytime",label:"处理时间"}),(0,i.Wm)(a,{align:"center",prop:"","show-overflow-tooltip":"",label:"状态/操作"},{default:(0,i.w5)((e=>[(0,i.Uk)(" 拒绝/完成 "),(0,i.Wm)(m,{size:"small",type:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)("撤销")])),_:1})])),_:1})])),_:1},8,["data"]),(0,d.SU)(s).length>0?((0,i.wg)(),(0,i.j4)(g,{key:0,"current-page":(0,d.SU)(u).page,"onUpdate:currentPage":t[0]||(t[0]=e=>(0,d.SU)(u).page=e),"page-size":(0,d.SU)(u).pageSize,total:(0,d.SU)(u).total,layout:"prev, pager, next",onCurrentChange:c},null,8,["current-page","page-size","total"])):(0,i.kq)("",!0)],64)}}};function s(e){e.__source="src/views/setting/tixian/components/logsDuihuan.vue"}"function"===typeof s&&s(u);const c=u;var f=c},5346:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var r=a(73632),o=(a(3241),a(74965),a(22040)),n=(a(99426),a(27977)),l=(a(40355),a(96872),a(66252)),i=a(2262),d=a(78666),m=a(87465),u=a(55779);const s={class:"user-chongzhi-container"};var c={__name:"index",setup(e){const t=(0,i.iH)("first");return(e,a)=>{const c=n.p8,f=n.Ub,p=o.Dv,g=r.dq;return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(g,{gutter:20},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{lg:24,md:24,sm:24,xl:24,xs:24},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{modelValue:(0,i.SU)(t),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,i.dq)(t)?t.value=e:null)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{label:"积分兑换",name:"first"},{default:(0,l.w5)((()=>[(0,l.Wm)(u["default"])])),_:1}),(0,l.Wm)(c,{label:"申请提现",name:"second"},{default:(0,l.w5)((()=>[(0,l.Wm)(d["default"])])),_:1}),(0,l.Wm)(c,{label:"提现记录",name:"thrid"},{default:(0,l.w5)((()=>[(0,l.Wm)(m["default"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}}};function f(e){e.__source="src/views/setting/tixian/index.vue"}"function"===typeof f&&f(c);const p=c;var g=p}}]);