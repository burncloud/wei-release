/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-01-22 15:00:16
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[4415,3426,1673],{60020:function(e,a,t){t.d(a,{F:function(){return u}});var n=t(54258);function u(){return(0,n.Z)({url:"/setting/data_read",method:"post",data:["uuid"]})}},50232:function(e,a,t){t.d(a,{q:function(){return i}});var n=t(60020),u=t(23471),s=t(47720);const i=(0,s.Q_)("myDevice",{state:()=>({uuid:"",deviceInfo:{}}),getters:{getUUID(){return this.uuid},getClientId(){return this.deviceInfo.host_id},getDeviceInfo(){return this.deviceInfo}},actions:{isLocalDevice(e){return this.uuid===e},async loadUUID(){const{data:e}=await(0,n.F)();this.uuid=e},async loadDeviceInfo(){const{body:e}=await(0,u.Ep)(this.uuid);this.deviceInfo=e},resetDeviceInfo(){this.deviceInfo={}}}})},54258:function(e,a,t){var n=t(42785),u=t(80129),s=t.n(u),i=t(66443),d=t(20345),o=t(81095),l=t(6154);let r;const c=(0,i.kJ)(n.successCode)?[...n.successCode]:[n.successCode],v={200:"服务器成功返回请求数据",201:"新建或修改数据成功",202:"一个请求已经进入后台排队(异步任务)",204:"删除数据成功",400:"发出信息有误",401:"用户没有权限(令牌失效、用户名、密码错误、登录过期)",402:"令牌过期",403:"用户得到授权，但是访问是被禁止的",404:"访问资源不存在",406:"请求格式不可得",410:"请求资源被永久删除，且不会被看到",500:"本地服务器还没开启",502:"网关错误",503:"服务不可用，服务器暂时过载或维护",504:"网关超时"},m=e=>(e.data&&"application/x-www-form-urlencoded;charset=UTF-8"===e.headers["Content-Type"]&&(e.data=s().stringify(e.data)),n.debounce.some((a=>e.url.includes(a)))&&(r=o.gp.$baseLoading()),e),f=async({config:e,data:a,status:t,statusText:u})=>{r&&r.close();let s=a&&a[n.statusName]?a[n.statusName]:t;switch(c.indexOf(a[n.statusName])+1&&(s=200),s){case 200:return a;case 401:break;case 402:break;case 403:break}const i=`${a&&a[n.messageName]?a[n.messageName]:v[s]?v[s]:"本地服务未开启，无法访问"}`;return o.gp.$baseMessage(i,"error","vab-hey-message-error",!1),(0,d.needErrorLog)()&&(0,d.addErrorLog)({message:i,stack:a,isRequest:!0}),Promise.reject(a)},p=sessionStorage.getItem("server_address")||"http://127.0.0.1:1115/",_=l.Z.create({baseURL:p,timeout:n.requestTimeout,headers:{"Content-Type":n.contentType}});_.interceptors.request.use(m,(e=>Promise.reject(e))),_.interceptors.response.use((e=>f(e)),(e=>{const{response:a,code:t}=e;switch(t){case"ERR_CANCELED":return{};case"ECONNABORTED":return o.gp.$baseMessage("请求超时","error","vab-hey-message-error",!1),{};default:break}return void 0===a?(r&&r.close(),o.gp.$baseMessage("连接后台接口失败，可能由以下原因造成：后端不支持跨域CORS、接口地址不存在、请求超时等，请联系管理员排查后端接口问题 ","error","vab-hey-message-error",!1),{}):f(a)})),a.Z=_},83426:function(e,a,t){t.r(a),t.d(a,{default:function(){return l}});var n=t(31452),u=(t(3241),t(68445),t(66252)),s={__name:"index",props:{value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e;function s(){a("update:modelValue",t.value)}return(a,t)=>{const i=n.E2;return(0,u.wg)(),(0,u.j4)(i,{type:e.value===e.modelValue?"primary":"info",onClick:s},{default:(0,u.w5)((()=>[(0,u.WI)(a.$slots,"default")])),_:3},8,["type"])}}};function i(e){e.__source="src/components/LinkRadio/index.vue"}var d=t(83744);"function"===typeof i&&i(s);const o=(0,d.Z)(s,[["__scopeId","data-v-f4d9035e"]]);var l=o},3114:function(e,a,t){t.r(a),t.d(a,{default:function(){return V}});var n=t(4350),u=(t(3241),t(91103),t(73632)),s=(t(74965),t(22040)),i=(t(99426),t(27750)),d=t(7608),o=t(49927),l=t(20129),r=(t(69840),t(86398)),c=(t(69448),t(15659)),v=(t(10444),t(6589),t(57018)),m=(t(74367),t(47820)),f=(t(50986),t(61715),t(66252)),p=t(2262),_=t(3577),g=t(23471),k=t(65781),h=t(23336),y=t(83426),w=t(48432),U=t(26010),b=t(50232);const S={class:"task-management-container"};var D={__name:"index",setup(e){const a=(0,b.q)(),{queryForm:t,dataList:D,pagination:I,loadData:C}=(0,w.Z)(),W=()=>({device_kind:"",key_value:""}),V=(0,p.iH)({...W(),device_kind:"host_uuid"}),x=(0,p.iH)({...W()}),E=(0,f.Fl)((()=>D.value.map((e=>(e.format_host_uuid=(0,U.fM)(e.host_uuid,4,"***",4),e.is_local_device=a.uuid===e.host_uuid,e.is_local_device?e.link={name:"Hostsdetail"}:e.link={name:"DeviceDetail",params:{id:e.host_id}},e)))));(0,f.bv)((()=>{a.loadUUID(),L()}));const Z=(0,p.iH)({}),N=(0,p.iH)({});async function L(){let e={};x.value.device_kind?e={deviceKind:x.value.device_kind,key_value:x.value.key_value}:V.value.key_value&&(e={deviceKind:V.value.device_kind,key_value:V.value.key_value});const a=await C((()=>(0,g.Zr)(t.value,e)));Z.value=a.statistics,N.value=a.search}function R(){x.value={...W()},t.value.page=1,L()}function T(e){x.value.device_kind=e,t.value.page=1,L()}function q(e){t.value.page=e,L()}return(e,a)=>{const g=m.BT,w=m.km,U=v.EZ,b=l.nH,D=c.ElButton,C=r.gi,W=l.ly,H=o.Z,$=d.Z,F=i.Z,j=s.Dv,M=u.dq,O=n.t;return(0,f.wg)(),(0,f.iD)("div",S,[(0,f.Wm)($,{class:"page-header"},{default:(0,f.w5)((()=>[(0,f.Wm)(H,null,{default:(0,f.w5)((()=>[(0,f.Wm)(W,{inline:""},{default:(0,f.w5)((()=>[(0,f.Wm)(b,null,{default:(0,f.w5)((()=>[(0,f.Wm)(U,{modelValue:(0,p.SU)(V).key_value,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,p.SU)(V).key_value=e),placeholder:"请输入内容",style:{width:"350px"}},{prepend:(0,f.w5)((()=>[(0,f.Wm)(w,{modelValue:(0,p.SU)(V).device_kind,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,p.SU)(V).device_kind=e),placeholder:"请选择"},{default:(0,f.w5)((()=>[((0,f.wg)(!0),(0,f.iD)(f.HY,null,(0,f.Ko)((0,p.SU)(N),((e,a)=>((0,f.wg)(),(0,f.j4)(g,{key:a,label:e,value:a,"fit-input-width":""},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1}),(0,f.Wm)(b,null,{default:(0,f.w5)((()=>[(0,f.Wm)(D,{icon:(0,p.SU)(k.Search),type:"primary",onClick:R},{default:(0,f.w5)((()=>[(0,f.Uk)(" 查询 ")])),_:1},8,["icon"]),(0,f.Wm)((0,p.SU)(y["default"]),{modelValue:(0,p.SU)(x).device_kind,"onUpdate:modelValue":[a[2]||(a[2]=e=>(0,p.SU)(x).device_kind=e),T],value:"offline"},{default:(0,f.w5)((()=>[(0,f.Uk)(" 离线 "),(0,f.Wm)(C,{class:"mx-1",type:"danger"},{default:(0,f.w5)((()=>[(0,f.Uk)((0,_.zw)((0,p.SU)(Z).offline),1)])),_:1}),(0,f.Uk)(" 台 ")])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,f.Wm)(M,{gutter:20,span:"24"},{default:(0,f.w5)((()=>[(0,f.Wm)(j,{lg:24,md:24,sm:24,xl:24,xs:24},{default:(0,f.w5)((()=>[(0,f.Wm)(F,{shadow:"hover"},{default:(0,f.w5)((()=>[(0,f.wy)((0,f.Wm)((0,p.SU)(h["default"]),{page:(0,p.SU)(t).page,"table-data":(0,p.SU)(E),pagination:(0,p.SU)(I),onChangePage:q,onReload:L},null,8,["page","table-data","pagination"]),[[O,(0,p.SU)(I).isLoading]])])),_:1})])),_:1})])),_:1})])}}};function I(e){e.__source="src/views/gpumarket/mydevice/index.vue"}var C=t(83744);"function"===typeof I&&I(D);const W=(0,C.Z)(D,[["__scopeId","data-v-12d5b812"]]);var V=W}}]);